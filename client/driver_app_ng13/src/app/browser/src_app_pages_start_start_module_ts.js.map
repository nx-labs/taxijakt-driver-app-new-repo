{"version":3,"file":"src_app_pages_start_start_module_ts.js","mappings":"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","sources":["./src/app/components/shell/data-store.ts","./src/app/pages/start/start.module.ts","./src/app/pages/start/start.page.ts","./src/app/pages/start/start.page.html","./src/app/pages/user/profile/driver.model.ts"],"sourcesContent":["import { Observable, of, combineLatest, ReplaySubject } from 'rxjs';\nimport { delay, map, startWith } from 'rxjs/operators';\nimport { environment }           from '../../../environments/environment';\n\nexport class ShellModel {\n  isShell = false;\n}\n\nexport class DataStore<T> {\n  // We wait on purpose 2 secs on local environment when fetching from json to simulate the backend roundtrip.\n  // However, in production you should set this delay to 0 in the environment.prod file.\n  // eslint-disable-next-line max-len\n  private networkDelay = (environment.appShellConfig && environment.appShellConfig.networkDelay) ? environment.appShellConfig.networkDelay : 0;\n\n  private timeline: ReplaySubject<T & ShellModel> = new ReplaySubject(1);\n\n  constructor(private shellModel: T) { }\n\n  // Static function with generics\n  // (ref: https://stackoverflow.com/a/24293088/1116959)\n  // Append a shell (T & ShellModel) to every value (T) emmited to the timeline\n  public static AppendShell<T>(dataObservable: Observable<T>, shellModel: T, networkDelay = 400): Observable<T & ShellModel> {\n    const delayObservable = of(true).pipe(\n      delay(networkDelay)\n    );\n\n    // Assign shell flag accordingly\n    // (ref: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n    return combineLatest([\n      delayObservable,\n      dataObservable\n    ]).pipe(\n      // Dismiss unnecessary delayValue\n      map(([delayValue, dataValue]: [boolean, T]): (T & ShellModel) => Object.assign(dataValue, {isShell: false})),\n      // Set the shell model as the initial value\n      startWith(Object.assign(shellModel, {isShell: true}))\n    );\n  }\n\n  load(dataSourceObservable: Observable<T>, networkDelay?: number): void {\n    // eslint-disable-next-line no-shadow, @typescript-eslint/no-shadow\n    const delay = (typeof networkDelay === 'number') ? networkDelay : this.networkDelay;\n\n    let processedDataSource: Observable<any>;\n\n    // If no network delay, then don't show shell\n    if (delay === 0) {\n      processedDataSource = dataSourceObservable;\n    } else {\n      processedDataSource = DataStore.AppendShell(dataSourceObservable, this.shellModel, delay);\n    }\n\n    processedDataSource\n    .subscribe((dataValue: T & ShellModel) => {\n      this.timeline.next(dataValue);\n    });\n  }\n\n  public get state(): Observable<T & ShellModel> {\n    return this.timeline.asObservable();\n  }\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { IonicModule }             from '@ionic/angular';\nimport { RouterModule, Routes }    from '@angular/router';\nimport { NgModule }                from '@angular/core';\nimport { CommonModule }            from '@angular/common';\nimport { ComponentsModule }        from '../../components/components.module';\nimport { NxComponentsModule }      from \"../../nx-app/components/nx-components.module\";\nimport { StartPage }               from './start.page';\n\nconst categoriesRoutes: Routes = [\n\t{\n\t\tpath:      '',\n\t\tcomponent: StartPage\n\t}\n];\n\n@NgModule(\n\t{\n\t\timports: [\n\t\t\tIonicModule,\n\t\t\tCommonModule,\n\t\t\tRouterModule.forChild(categoriesRoutes),\n\t\t\tComponentsModule,\n\t\t\tNxComponentsModule\n\t\t],\n\t\tdeclarations: [\n\t\t\tStartPage\n\t\t]\n\t})\nexport class StartPageModule {\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { OnInit }                   from \"@angular/core\";\nimport { Component }                from '@angular/core';\nimport { ActivatedRoute }           from \"@angular/router\";\nimport { IEventReceiver }           from \"@core/event-receiver\";\nimport { LoggingService }           from \"@core/services/logging.service\";\nimport { AlertController }          from \"@ionic/angular\";\nimport { DriverBusyModalComponent } from \"@nxApp/modals/driver-busy-modal/driver-busy-modal.component\";\nimport { NxAppManagerService }      from \"@nxApp/nx-app-manager.service\";\nimport { INxEvent }                 from \"@nxApp/events/nx-event\";\nimport { NxEvent }                  from \"@nxApp/events/nx-event-types\";\nimport { NxEventService }           from \"@nxApp/events/nx-event.service\";\nimport { AppNavService }            from \"@nxApp/services/app-nav.service\";\nimport { DriverService }            from \"@nxApp/services/driver/driver.service\";\nimport { IDriverData }              from \"@nxApp/types/update-response-data.type\";\nimport { IDriverResponseData }      from \"@nxApp/types/update-response-data.type\";\nimport { OrderApiService }          from \"@root/api/order-api.service\";\nimport { DriverCarOptions }         from \"@shared/driver/driver-car-options\";\nimport { IMessage }                 from \"@shared/messages/message-types\";\nimport { StorageService }           from \"@core/services/storage.service\";\nimport { ModalDataType }            from \"@nxApp/modals/modal-data.type\";\nimport { SelectCarModalComponent }  from \"@nxApp/modals/select-car-modal/select-car-modal.component\";\nimport { VarUtils }                 from \"@shared/utils/var.utils\";\nimport { DriverModel }              from \"../user/profile/driver.model\";\n\n@Component(\n\t{\n\t\tselector   : 'app-start',\n\t\ttemplateUrl: './start.page.html',\n\t\tstyleUrls  : [\n\t\t\t'./styles/start.page.scss',\n\t\t\t'./styles/start.shell.scss',\n\t\t\t'./styles/start.responsive.scss'\n\t\t]\n\t})\nexport class StartPage implements OnInit, IEventReceiver {\n\tpublic name: string              = \"StartPage\";\n\tdriverModel                      = new DriverModel();\n\tdriverData: IDriverData          = {};\n\tpercentTilLowerComission: number = 0;\n\tpercentTilLowerStyle: string     = \"\";\n\n\tconstructor(\n\t\tprivate orderApiService: OrderApiService,\n\t\tprivate alertController: AlertController,\n\t\tprivate logger: LoggingService,\n\t\tprivate navService: AppNavService,\n\t\tprivate nxEvents: NxEventService,\n\t\tprivate driverService: DriverService,\n\t\tprivate storage: StorageService,\n\t\tprivate activeRoute: ActivatedRoute,\n\t\tprivate appData: NxAppManagerService\n\t) {\n\t\tthis.driverModel.userImage = \"/assets/nx-app/taxi-driver-128.png\"\n\n\t\tnxEvents.onNewEvent().subscribe((value: INxEvent) => {\n\t\t\tswitch (value.eventType) {\n\t\t\t\tcase NxEvent.SelectrCar:\n\t\t\t\t\tconsole.log(\"****** START PAGE :: DRIVER DATA :::::\", value);\n\t\t\t\t\tappData.selectedCar     = value.eventData as DriverCarOptions;\n\t\t\t\t\tappData.selectedCarData = appData.selectedCar.driverCarData;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase NxEvent.DriverUpdate:\n\t\t\t\t\tlet driverData: IDriverResponseData = value.eventData;\n\n\t\t\t\t\tthis.driverData                    = driverData.driverEntry.data;\n\t\t\t\t\tthis.driverModel.name              = driverData.driverEntry.data.name;\n\t\t\t\t\tthis.driverModel.status            = driverData.driverEntry.data.status;\n\t\t\t\t\tthis.driverModel.id                = driverData.driverEntry.data.id;\n\t\t\t\t\tthis.driverModel.likes             = this.driverData.data?.likes;\n\t\t\t\t\tthis.driverModel.dislikes          = this.driverData.data?.dislikes;\n\t\t\t\t\tthis.driverModel.rating            = this.driverData.data?.rating;\n\t\t\t\t\tthis.driverModel.succellfulOrders  = driverData.info.successful_orders;\n\t\t\t\t\tthis.driverModel.hasLowerComission = driverData.info.has_lower_commission;\n\t\t\t\t\tthis.driverModel.lowerCommissionTo = driverData.info.lower_commission_to;\n\t\t\t\t\tthis.driverModel.points            = driverData.info.points;\n\t\t\t\t\tthis.driverModel.isBasic           = driverData.info.mode.is_basic;\n\n\t\t\t\t\tif (VarUtils.isString(this.driverModel.lowerCommissionTo)) {\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!this.driverModel.succellfulOrders) {\n\t\t\t\t\t\tthis.driverModel.succellfulOrders = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t}\n\n\tbuyPro() {\n\t\tthis.alertController.create(\n\t\t\t{\n\t\t\t\theader   : 'Buy PRO',\n\t\t\t\tsubHeader: 'Become an elite driver by puchasing PRO',\n\t\t\t\tmessage  : 'Choose one of the options available',\n\t\t\t\tbuttons  : [\n\t\t\t\t\t{\n\t\t\t\t\t\ttext   : 'Buy PRO 24 Hour for 100 SEK',\n\t\t\t\t\t\thandler: () => {\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttext   : 'Buy PRO 1 Week for 500 SEK',\n\t\t\t\t\t\thandler: () => {\n\t\t\t\t\t\t\tconsole.log('Let me think');\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttext   : 'Buy PRO 1 month for 2000 SEK',\n\t\t\t\t\t\thandler: () => {\n\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttext   : 'Later',\n\t\t\t\t\t\thandler: () => {\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}).then(res => {\n\t\t\tres.present();\n\t\t});\n\n\t}\n\n\tsetBusy() {\n\t\tlet modalData: ModalDataType = {\n\t\t\tmodal    : DriverBusyModalComponent,\n\t\t\tbgDismiss: false,\n\t\t\theader   : \"Busy\"\n\t\t}\n\n\t\tlet cp = {\n\t\t\teventType: NxEvent.ShowModal,\n\t\t\teventData: modalData\n\t\t}\n\n\t\tthis.nxEvents.pushEvent(cp);\n\t}\n\n\tpublic setPercentTilLowerCommission(value: number): void {\n\t\tthis.percentTilLowerComission = value;\n\t\tthis.percentTilLowerStyle     = `--value: ${ this.percentTilLowerComission }`;\n\t}\n\n\tpublic onEvent(event: NxEvent) {\n\t\tconsole.log(\"Start Page Event ::\",)\n\t}\n\n\teditCar() {\n\t\tlet modalData: ModalDataType = {\n\t\t\tmodal    : SelectCarModalComponent,\n\t\t\tbgDismiss: false,\n\t\t\theader   : \"Välj bil\"\n\t\t}\n\n\t\tlet cp = {\n\t\t\teventType: NxEvent.ShowModal,\n\t\t\teventData: modalData\n\t\t}\n\n\t\tthis.nxEvents.pushEvent(cp);\n\t}\n\n\tpublic ngOnInit(): void {\n\t\tif (this.storage.get(\"fromLogin\")) {\n\t\t\tthis.storage.remove(\"fromLogin\");\n\n\t\t\tif (!this.appData?.selectedCar)\n\t\t\t\tthis.editCar();\n\t\t}\n\n\t\tthis.driverService.triggerStoredData();\n\t}\n\n\tpublic tebb(): void {\n\t\tthis.orderApiService.getActiveOrdersBySession().subscribe(\n\t\t\t(msg: IMessage) => {\n\t\t\t\tconsole.log(\"SESSION ORDERS ::\", msg);\n\t\t\t}\n\t\t)\n\t}\n}\n","<nx-header></nx-header>\n\n<ion-content *ngIf=\"driverModel === null\" class=\"user-profile-content\">\n\t<ion-card>\n\t\t<h3>Loading data...</h3>\n\t</ion-card>\n</ion-content>\n\n<ion-content *ngIf=\"driverModel !== null\" class=\"user-profile-content\">\n\n\t<ion-card>\n\t\t<ion-row class=\"user-details-section\" style=\"padding: 10px;\">\n\t\t\t<ion-col class=\"user-image-wrapper\" style=\"max-width: 150px\">\n\t\t\t\t<ion-img [src]=\"driverModel.userImage\" style=\"max-width: 128px\"></ion-img>\n\t\t\t</ion-col>\n\t\t\t<ion-col class=\"user-info-wrapper\">\n\t\t\t\t<ion-row class=\"user-data-row\">\n\t\t\t\t\t<ion-col size=\"9\">\n\t\t\t\t\t\t<ion-label>Driver #{{driverModel.id}}</ion-label>\n\n\t\t\t\t\t\t<h3 class=\"user-name\">\n\t\t\t\t\t\t\t<app-text-shell [data]=\"driverModel.name\"></app-text-shell>\n\t\t\t\t\t\t</h3>\n\n\t\t\t\t\t\t<!-- <nx-driver-status [button]></nx-driver-status> -->\n\n\t\t\t\t\t\tYour rating: {{ this.driverModel.rating }}\n\n\t\t\t\t\t\t<h5 class=\"user-title\">\n\t\t\t\t\t\t\t<!-- app-text-shell [data]=\"driverModel.status\"></app-text-shell> -->\n\t\t\t\t\t\t\t<ion-button (click)=\"setBusy()\">{{ driverModel.status }}</ion-button>\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t</ion-col>\n\t\t\t\t</ion-row>\n\t\t\t</ion-col>\n\t\t</ion-row>\n\t</ion-card>\n\n\t<ion-card *ngIf=\"driverModel !== null\">\n\t\t<ion-card-header color=\"tj\">\n\t\t\t<ion-label>Get lower comission</ion-label>\n\t\t</ion-card-header>\n\n\t\t<ion-card-content>\n\t\t\t<div style=\"margin-top: 2em;\">\n\t\t\t<h2 *ngIf=\"driverModel.hasLowerComission\">15% commission valid\n\t\t\t\t\t\t\t\t\t\t\t\t\t  until {{ driverModel.lowerCommissionTo }}</h2>\n\n\t\t\t</div>\n\n\t\t\t<h1>\n\t\t\t{{ driverModel.succellfulOrders }} / 20\n\t\t\t</h1>\n\n\n\t\t\t<div style=\"margin-top: 2em;\">\n\t\t\t\t<p>\n\t\t\t\t\tOnce your counter reaches 20 all your orders in the next 30 days will be charged with a lower fixed\n\t\t\t\t\tcommission of 15% and the counter will reset to 0\n\t\t\t\t</p>\n\n\t\t\t\t<p>\n\t\t\t\t\tIf you reach 20 orders again your time will be extended to max 30 days in the future.\n\t\t\t\t</p>\n\t\t\t</div>\n\n\n\t\t</ion-card-content>\n\t</ion-card>\n\n\t<ion-card>\n\t\t<ion-card-header color=\"tj\">\n\t\t\t<ion-label>Get PRO</ion-label>\n\t\t</ion-card-header>\n\n\t\t<ion-card-content>\n\t\t\t<div style=\"margin-top: 1em\">\n\t\t\t\t<b>You can buy PRO with a credit card right now. PRO gives you</b>\n\n\t\t\t\t<ul>\n\t\t\t\t\t<li>Prebookings 24h</li>\n\t\t\t\t\t<li>Dispatch priority</li>\n\t\t\t\t\t<li>No points system</li>\n\t\t\t\t\t<li>No penalty for returning instant orders</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\n\t\t\t<div style=\"margin-top: 2em\">\n\t\t\t\t<ion-button (click)=\"buyPro()\" class=\"social-auth-btn facebook-auth-btn\" expand=\"block\" color=\"tj\">\n\t\t\t\t\tBuy PRO Now!\n\t\t\t\t</ion-button>\n\t\t\t</div>\n\t\t</ion-card-content>\n\n\t</ion-card>\n\n\t<ion-card *ngIf=\"appData.selectedCar !== null\">\n\t\t<ion-list class=\"no-lines\" lines=\"none\" no-lines>\n\t\t\t<ion-item no-lines>\n\t\t\t\t<ion-img style=\"padding-right: 1em\" src=\"/assets/nx-app/ico-taxi-64.png\"\n\t\t\t\t\t\t style=\"max-width: 64px\"></ion-img>\n\t\t\t\t<ion-label style=\"padding-left: 1em\">\n\t\t\t\t\t<h1>{{ appData.selectedCar.driverCarData.registration_number }}</h1>\n\t\t\t\t</ion-label>\n\t\t\t\t<ion-icon  (click)=\"editCar()\" slot=\"end\" name=\"create\"></ion-icon>\n\t\t\t</ion-item>\n<!--\t\t\t<ion-list-header>\n\t\t\t\t<ion-label>Car configuration</ion-label>\n\t\t\t\t<ion-button>Edit</ion-button>\n\t\t\t</ion-list-header>-->\n\t\t\t<ion-item class=\"no-lines\">\n\t\t\t\t<ion-chip>\n\t\t\t\t\tBaby seats &nbsp;<b>{{ appData.selectedCar.childSeats }}</b>\n\t\t\t\t</ion-chip>\n\t\t\t\t<ion-chip>\n\t\t\t\t\tChild seats &nbsp;<b>{{ appData.selectedCar.childSeats }}</b>\n\t\t\t\t</ion-chip>\n\t\t\t\t<ion-chip>\n\t\t\t\t\tBooster seats &nbsp;<b>{{ appData.selectedCar.boosterSeats }}</b>\n\t\t\t\t</ion-chip>\n\t\t\t\t<ion-chip>\n\t\t\t\t\t{{ appData.selectedCar.hasShield ? \"Car with shield\" : \"Car without shield\" }}\n\t\t\t\t</ion-chip>\n\n\t\t\t</ion-item>\n\t\t</ion-list>\n\t</ion-card>\n\n</ion-content>\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { ShellModel } from '@components/shell/data-store';\n\nexport class DriverModel extends ShellModel {\n\tid?: string;\n\tpoints?: number;\n\tname?: string;\n\tuserImage?: string;\n\tstatus: string;\n\tisBasic?: boolean;\n\tlikes?: number;\n\tdislikes?: number;\n\trating?: string;\n\tsuccellfulOrders?: number;\n\thasLowerComission?: boolean;\n\tlowerCommissionTo?: string;\n\n\tcars: Car[];\n\n\tconstructor() {\n\t\tsuper();\n\t}\n}\n\nexport class Car {\n\tregNumber: string;\n\tbaySeats?: number;\n\tchildSeats?: number;\n\tboosterSeats: number;\n\tshield: number;\n\tdogAllowed?: boolean;\n}\n"],"names":[],"sourceRoot":"webpack:///"}