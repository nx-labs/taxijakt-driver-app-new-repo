{"version":3,"file":"main.js","mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA","sources":["./src/app/api/api-factory.ts","./src/app/api/driver-api.service.ts","./src/app/api/order-api.service.ts","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/app.settings.ts","./src/app/coldmind/core/cm-auth-guard.ts","./src/app/components/checkbox-wrapper/checkbox-wrapper.component.ts","./src/app/components/checkbox-wrapper/checkbox-wrapper.component.html","./src/app/components/components.module.ts","./src/app/components/countdown-timer/countdown-timer.component.ts","./src/app/components/countdown-timer/countdown-timer.component.html","./src/app/components/counter-input/counter-input.component.ts","./src/app/components/counter-input/counter-input.component.html","./src/app/components/google-map/google-map.component.ts","./src/app/components/modal/modal.component.ts","./src/app/components/modal/modal.component.html","./src/app/components/rating-input/rating-input.component.ts","./src/app/components/rating-input/rating-input.component.html","./src/app/components/shell/aspect-ratio/aspect-ratio.component.ts","./src/app/components/shell/aspect-ratio/aspect-ratio.component.html","./src/app/components/shell/image-shell/image-shell.component.ts","./src/app/components/shell/image-shell/image-shell.component.html","./src/app/components/shell/shell.module.ts","./src/app/components/shell/text-shell/text-shell.component.ts","./src/app/components/shell/text-shell/text-shell.component.html","./src/app/components/show-hide-password/show-hide-password.component.ts","./src/app/components/show-hide-password/show-hide-password.component.html","./src/app/core/services/api-client.service.ts","./src/app/core/services/geo.service.ts","./src/app/core/services/logging.service.ts","./src/app/core/services/socket.service.ts","./src/app/core/services/storage.service.ts","./src/app/core/services/tabs.service.ts","./src/app/core/socket-events.ts","./src/app/core/utils/history-helper.service.ts","./src/app/core/utils/tag-generator.ts","./src/app/core/utils/transfer-state-helper.ts","./src/app/nx-app/app.const.ts","./src/app/nx-app/app.paths.ts","./src/app/nx-app/components/nx-app-component.ts","./src/app/nx-app/components/nx-components.module.ts","./src/app/nx-app/components/nx-driver-status/nx-driver-status.component.ts","./src/app/nx-app/components/nx-driver-status/nx-driver-status.component.html","./src/app/nx-app/components/nx-header/nx-header.component.ts","./src/app/nx-app/components/nx-header/nx-header.component.html","./src/app/nx-app/directives/boxshadow.directive.ts","./src/app/nx-app/directives/funybutton.directive.ts","./src/app/nx-app/events/nx-event-types.ts","./src/app/nx-app/events/nx-event.service.ts","./src/app/nx-app/modals/driver-busy-modal/driver-busy-modal.component.ts","./src/app/nx-app/modals/driver-busy-modal/driver-busy-modal.component.html","./src/app/nx-app/modals/new-order-modal/new-order-modal.component.ts","./src/app/nx-app/modals/new-order-modal/new-order-modal.component.html","./src/app/nx-app/modals/nx-modals.module.ts","./src/app/nx-app/modals/select-car-modal/select-car-modal.component.ts","./src/app/nx-app/modals/select-car-modal/select-car-modal.component.html","./src/app/nx-app/nx-app-manager.service.ts","./src/app/nx-app/nx-app.module.ts","./src/app/nx-app/services/app-nav.service.ts","./src/app/nx-app/services/driver/driver.service.ts","./src/app/nx-app/services/nx-app.service.ts","./src/app/shared/driver/driver-status.ts","./src/app/shared/messages/message-types.ts","./src/app/tabs/tabs.module.ts","./src/app/tabs/tabs.page.ts","./src/app/tabs/tabs.page.html","./src/app/tabs/tabs.router.module.ts","./src/environments/environment.ts","./src/main.ts","../../shared/driver/driver-car-options.ts","../../shared/driver/driver-status.ts","../../shared/messages/message-types.ts","../../shared/utils/data.utils.ts","../../shared/utils/var.utils.ts","./node_modules/@ionic/core/dist/esm|lazy|/^\\.\\/.*\\.entry\\.js$/|include: /\\.entry\\.js$/|exclude: /\\.system\\.entry\\.js$/|groupOptions: {}|namespace object"],"sourcesContent":["/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { IUserMessage } from \"@core/messages/message-types\";\nimport { MsgType }      from \"@shared/messages/message-types\";\n\nexport class ApiFactory {\n\tconstructor() {}\n\n\tpublic static newTag(): string {\n\t\treturn Math.random().toString(36).substr(2, 9);\n\t}\n\n\tpublic simpleMessage(messageType: MsgType, body?: any): IUserMessage {\n\t\treturn {\n\t\t\ttype:      messageType,\n\t\t\tdata:      body,\n\t\t\ttimestamp: Date.now()\n\t\t}\n\t}\n\n\tpublic newUserMessage(messageType: MsgType, userId: number, body?: any): IUserMessage {\n\t\treturn {\n\t\t\ttype:      messageType,\n\t\t\tuid:       userId,\n\t\t\tdata:      body,\n\t\t\ttimestamp: Date.now()\n\t\t}\n\t}\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { Injectable }       from '@angular/core';\nimport { IApiMessage }      from \"@core/messages/message-types\";\nimport { ApiClientService } from \"@core/services/api-client.service\";\nimport { SocketService }    from \"@core/services/socket.service\";\nimport { INxEvent }         from \"@nxApp/events/nx-event\";\nimport { NxEvent }          from \"@nxApp/events/nx-event-types\";\nimport { NxEventService }   from \"@nxApp/events/nx-event.service\";\nimport { DriverCarOptions } from \"@shared/driver/driver-car-options\";\nimport { IUserMessage }     from \"@shared/messages/message-types\";\nimport { MsgType }          from \"@shared/messages/message-types\";\nimport { IMessage }         from \"@shared/messages/message-types\";\nimport { generateTag }      from \"@utils/tag-generator\";\nimport { Observable }       from \"rxjs\";\nimport { filter }           from \"rxjs\";\nimport { ApiFactory }       from \"@api/api-factory\";\n\n@Injectable(\n\t{\n\t\tprovidedIn: 'root'\n\t})\nexport class DriverApiService {\n\n\tconstructor(\n\t\tprivate nxEvents: NxEventService,\n\t\tprivate messageFactory: ApiFactory,\n\t\tprivate socketService: SocketService,\n\t\tprivate apiClient: ApiClientService,\n\t) {\n\t\tnxEvents.onNewEvent().subscribe((value: INxEvent) => {\n\t\t\tswitch (value.eventType) {\n\t\t\t\tcase NxEvent.SetStatus:\n\t\t\t\t\tthis.setDriverStatus(value.eventData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase NxEvent.SetBusy:\n\t\t\t\t\tthis.setDriverBusy(value.eventData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic getDriverStatus(driverId: number): Observable<IMessage> {\n\t\tlet msg = this.messageFactory.newUserMessage(\n\t\t\tMsgType.DriverGetInfo,\n\t\t\tdriverId\n\t\t);\n\n\t\treturn this.socketService.emitMessage<IMessage>(msg);\n\t}\n\n\tpublic getDriverOrder(orderId: string): Observable<IMessage> {\n\t\tlet msg = this.messageFactory.simpleMessage(\n\t\t\tMsgType.GetDriverOrder,\n\t\t\t{\n\t\t\t\torderId: orderId\n\t\t\t}\n\t\t)\n\n\t\treturn this.socketService.sendMessage(msg);\n\t}\n\n\t/**\n\t * Get a list of cars registered to the driver\n\t * @param uuid\n\t * @param {number} driverId\n\t * @returns {<IMessage>}\n\t */\n\tpublic getDriverCars(): Observable<any> {\n\t\tlet msg: IMessage = {\n\t\t\ttype: MsgType.GetCars\n\t\t}\n\n\t\tconst tag = generateTag();\n\n\t\tconst res = this.socketService.cmStream.pipe(\n\t\t\tfilter((value: IMessage) => {\n\t\t\t\tconst res = value.type === MsgType.GetCars;\n\t\t\t\tif (res) console.log(\"getDriverCars :: PARSE TAG MESS ::\", res, \":::\", value);\n\t\t\t\treturn res;\n\t\t\t})\n\t\t);\n\n\t\tthis.socketService.sendMessage(msg, tag);\n\n\t\treturn res;\n\t}\n\n\t/**\n\t * Select car\n\t * @returns {<any>}\n\t */\n\tpublic setCurrentCar(options: DriverCarOptions): Observable<any> {\n\t\tlet msg: IMessage = {\n\t\t\ttype: MsgType.SetCurrentCar,\n\t\t\tdata:  !options ? new DriverCarOptions().compile() : options.compile()\n\t\t}\n\n\t\tconst tag = generateTag();\n\n\t\tconst res = this.socketService.cmStream.pipe(\n\t\t\tfilter((value: IMessage) => {\n\t\t\t\treturn value.type === MsgType.SetCurrentCar && value.tag == tag;\n\t\t\t})\n\t\t);\n\n\t\tthis.socketService.sendMessage(msg, tag);\n\n\t\treturn res;\n\t}\n\n\tpublic authenticate(username: string, password: string): Observable<any> {\n\t\tlet msg: IUserMessage = {\n\t\t\ttype: MsgType.DriverLogin,\n\t\t\tdata: {\n\t\t\t\tuser: username,\n\t\t\t\tpass: password\n\t\t\t}\n\t\t}\n\n\t\tconst tag = generateTag();\n\n\t\tconst res = this.socketService.cmStream.pipe(\n\t\t\tfilter((value: IMessage) => {\n\t\t\t\tconst res = value.type === MsgType.DriverLogin && value.tag == tag;\n\n\t\t\t\ttry {\n\t\t\t\t\tif (res) {\n\t\t\t\t\t\tconst apiMessage: IApiMessage = value.data;\n\t\t\t\t\t\tif (apiMessage.success) {\n\t\t\t\t\t\t\tthis.nxEvents.pushNewEvent(NxEvent.DriverLogin);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(\"DriverApiService ::\", e);\n\t\t\t\t}\n\n\n\t\t\t\treturn res;\n\n\t\t\t})\n\t\t);\n\n\t\tthis.socketService.sendMessage(msg, tag);\n\n\t\treturn res;\n\t}\n\n\tpublic setDriverStatus(status: string): Observable<any> {\n\t\tlet msg: IMessage = {\n\t\t\ttype: MsgType.SetDriverStatus,\n\t\t\tdata:  status\n\t\t}\n\n\t\treturn  this.socketService.sendMessage(msg);\n\t}\n\n\tpublic setDriverBusy(min: number, reason?: string): Observable<any> {\n\t\tlet msg: IMessage = {\n\t\t\ttype: MsgType.SetDriverBusy,\n\t\t\tdata:  { minutes: min }\n\t\t}\n\n\t\treturn this.socketService.sendMessage(msg);\n\t}\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { Injectable }       from '@angular/core';\nimport { ApiClientService } from \"@core/services/api-client.service\";\nimport { SocketService }    from \"@core/services/socket.service\";\nimport { NxEvent }          from \"@nxApp/events/nx-event-types\";\nimport { INxEvent }         from \"@nxApp/events/nx-event\";\nimport { NxEventService }   from \"@nxApp/events/nx-event.service\";\nimport { IApiResponse }     from \"@shared/messages/message-types\";\nimport { IMessage }         from \"@shared/messages/message-types\";\nimport { MsgType }          from \"@shared/messages/message-types\";\nimport { generateTag }      from \"@utils/tag-generator\";\nimport { Observable }       from \"rxjs\";\nimport { filter }           from \"rxjs/operators\";\nimport { ApiFactory }       from \"./api-factory\";\n\nexport enum OrderAction {\n\tAccept,\n\tDeny,\n\tComplete,\n\tCustomerNoShow,\n\tCantDeliver\n}\n\n@Injectable(\n\t{\n\t\tprovidedIn: 'root'\n\t})\nexport class OrderApiService {\n\tconstructor(\n\t\tprivate nxEvents: NxEventService,\n\t\tprivate messageFactory: ApiFactory,\n\t\tprivate socketService: SocketService,\n\t\tprivate apiClient: ApiClientService\n\t) {\n\t\tnxEvents.onNewEvent().subscribe((value: INxEvent) => {\n\t\t\tswitch (value.eventType) {\n\t\t\t\tcase NxEvent.GetSessionOrders:\n\t\t\t\t\tthis.getActiveOrdersBySession().subscribe(\n\t\t\t\t\t\tvalue => {\n\t\t\t\t\t\t\tlet data: IApiResponse = value.data;\n\n\t\t\t\t\t\t\tif (data.success && data?.data) {\n\t\t\t\t\t\t\t\tnxEvents.pushNewEvent(NxEvent.ActiveOrders, data.data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic getOrders(): Observable<IMessage> {\n\t\tlet msg = this.messageFactory.simpleMessage(\n\t\t\tMsgType.GetOrdersBySession\n\t\t);\n\n\t\treturn this.socketService.sendMessage(msg);\n\t}\n\n\tpublic getActiveOrdersBySession(): Observable<IMessage> {\n\t\tlet msg: IMessage = {\n\t\t\ttype: MsgType.GetOrdersBySession,\n\t\t};\n\n\t\tconst tag = generateTag();\n\n\t\tconst res = this.socketService.cmStream.pipe(\n\t\t\tfilter((value: IMessage) => {\n\t\t\t\treturn value.type === MsgType.GetOrdersBySession;\n\t\t\t})\n\t\t);\n\n\t\tthis.socketService.sendMessage(msg, tag);\n\n\t\treturn res;\n\t}\n\n\tpublic acceptOrder(orderId: string, source: string = \"MARKET\") {\n\t\tlet msg: IMessage = {\n\t\t\ttype: MsgType.AcceptOrder,\n\t\t\tdata: {\n\t\t\t\tid    : orderId,\n\t\t\t\tsource: source\n\t\t\t}\n\t\t};\n\n\t\tconsole.log(\"\\n\\n ACCEPT ORDEAR :::\", msg);\n\n\t\tconst tag = generateTag();\n\n\t\tconst res = this.socketService.cmStream.pipe(\n\t\t\tfilter((value: IMessage) => {\n\t\t\t\treturn value.type === MsgType.AcceptOrder;\n\t\t\t})\n\t\t);\n\n\t\tthis.socketService.sendMessage(msg, tag);\n\n\t\treturn res;\n\t}\n\n\tpublic completeOrder(orderId: string, forceFinish?: boolean): Observable<IMessage> {\n\t\tlet msg = this.messageFactory.simpleMessage(\n\t\t\tMsgType.CompleteOrder,\n\t\t\t{\n\t\t\t\tid               : orderId,\n\t\t\t\tdriverForceFinish: forceFinish ? 1 : 0\n\t\t\t}\n\t\t);\n\n\t\treturn this.socketService.sendMessage(msg);\n\t}\n\n\tpublic cantDeliver(orderId: string): Observable<IMessage> {\n\t\tlet msg = this.messageFactory.simpleMessage(\n\t\t\tMsgType.CantCompleteOrder, { id: orderId }\n\t\t);\n\n\t\treturn this.socketService.sendMessage(msg);\n\t}\n\n\tpublic customerNoShow(orderId: string): Observable<IMessage> {\n\t\tlet msg = this.messageFactory.simpleMessage(\n\t\t\tMsgType.CustomerNoShow, { id: orderId }\n\t\t);\n\n\t\treturn this.socketService.sendMessage(msg);\n\t}\n\n\tpublic denyOrder(orderId: string): Observable<IMessage> {\n\t\tlet msg = this.messageFactory.simpleMessage(\n\t\t\tMsgType.DenyOrder, { id: orderId }\n\t\t);\n\n\t\treturn this.socketService.sendMessage(msg);\n\t}\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { NgModule }             from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n\t{\n\t\tpath      : '',\n\t\tredirectTo: '/auth/login',\n\t\tpathMatch : 'full'\n\t},\n\t{\n\t\tpath        : 'auth/login',\n\t\tloadChildren: () => import('./pages/login/login.module').then(m => m.LoginPageModule)\n\t},\n\t{\n\t\tpath        : 'auth/signup',\n\t\tloadChildren: () => import('./pages/signup/signup.module').then(m => m.SignupPageModule)\n\t},\n\t{\n\t\tpath        : 'auth/forgot-password',\n\t\tloadChildren: () => import('./pages/forgot-password/forgot-password.module').then(m => m.ForgotPasswordPageModule)\n\t},\n\t{\n\t\tpath        : 'app',\n\t\tloadChildren: () => import('./tabs/tabs.module').then(m => m.TabsPageModule)\n\t},\n\t{\n\t\tpath        : 'app/start',\n\t\tloadChildren: () => import('./pages/start/start.module').then(m => m.StartPageModule)\n\t},\n\t{\n\t\tpath        : 'app/settings',\n\t\tloadChildren: () => import('./pages/settings/settings.module').then(m => m.SettingsPageModule)\n\t},\n\t{\n\t\tpath        : 'app/orders',\n\t\tloadChildren: () => import('./pages/orders/orders.module').then(m => m.OrdersPageModule)\n\t},\n\t{\n\t\tpath        : 'app/pro',\n\t\tloadChildren: () => import('./pages/payment/payment.module').then(m => m.PaymentPageModule)\n\t},\n\t{\n\t\tpath        : 'app/messages',\n\t\tloadChildren: () => import('./pages/messages/messages.module').then(m => m.MessagesPageModule)\n\t},\n\t{\n\t\tpath        : 'internal-error',\n\t\tloadChildren: () => import('./pages/page-internal-error/page-not-found.module').then(m => m.PageNotFoundModule)\n\t},\n\t{\n\t\tpath      : '**',\n\t\tredirectTo: 'page-internal-error'\n\t},\n\t{\n\t\tpath        : 'payment',\n\t\tloadChildren: () => import('./pages/payment/payment.module').then(m => m.PaymentPageModule)\n\t}\n];\n\n@NgModule(\n\t{\n\t\timports: [\n\t\t\tRouterModule.forRoot(routes, {\n\t\t\t\t// This value is required for server-side rendering to work.\n\t\t\t\tinitialNavigation        : 'enabled',\n\t\t\t\tscrollPositionRestoration: 'enabled',\n\t\t\t\tanchorScrolling          : 'enabled'\n\t\t\t})\n\t\t],\n\t\texports: [ RouterModule ]\n\t})\nexport class AppRoutingModule {\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { ViewChild }              from \"@angular/core\";\nimport { OnInit }                 from \"@angular/core\";\nimport { Component }              from '@angular/core';\nimport { SplashScreen }           from '@capacitor/splash-screen';\nimport { SocketService }          from \"@core/services/socket.service\";\nimport { ModalController }        from \"@ionic/angular\";\nimport { TranslateService }       from '@ngx-translate/core';\nimport { NxAppComponent }         from \"@nxApp/components/nx-app-component\";\nimport { NxAppEvent }             from \"@nxApp/events/nx-app-event\";\nimport { INxEvent }               from \"@nxApp/events/nx-event\";\nimport { NxEventService }         from \"@nxApp/events/nx-event.service\";\nimport { NxEvent }                from \"@nxApp/events/nx-event-types\";\nimport { ModalDataType }          from \"@nxApp/modals/modal-data.type\";\nimport { NewOrderModalComponent } from \"@nxApp/modals/new-order-modal/new-order-modal.component\";\nimport { NxAppManagerService }    from \"@nxApp/nx-app-manager.service\";\nimport { AppNavService }          from \"@nxApp/services/app-nav.service\";\nimport { IBooking }               from \"@nxApp/services/booking/booking-entry.type\";\nimport { DriverService }          from \"@nxApp/services/driver/driver.service\";\nimport { NxAppService }           from \"@nxApp/services/nx-app.service\";\nimport { IMessage }               from \"@shared/messages/message-types\";\nimport { HistoryHelperService }   from '@utils/history-helper.service';\nimport { AccountPages }           from \"@nxApp/app.paths\";\nimport { AppPages }               from \"@nxApp/app.paths\";\nimport { AppTitle }               from \"./app.settings\";\nimport { LoginPage }              from \"./pages/login/login.page\";\nimport { MsgType }                from \"./shared/messages/message-types\";\nimport { OrderApiService }        from \"@api/order-api.service\";\n\n@Component(\n\t{\n\t\tselector   : 'app-root',\n\t\ttemplateUrl: 'app.component.html',\n\t\tstyleUrls  : [\n\t\t\t'./side-menu/styles/side-menu.scss',\n\t\t\t'./side-menu/styles/side-menu.shell.scss',\n\t\t\t'./side-menu/styles/side-menu.responsive.scss'\n\t\t]\n\t})\nexport class AppComponent extends NxAppComponent implements OnInit {\n\t@ViewChild('#appNav') nav;\n\n\tpublic rootPage: string      = \"LoginPage\";\n\tpublic appTitle: string      = AppTitle;\n\tpublic appPages              = AppPages;\n\tpublic accountPages          = AccountPages;\n\tpublic activeOrder: IBooking = null;\n\tpublic hackArray             = new Array<string>();\n\tpublic modalIsPresenting     = false;\n\n\tconstructor(\n\t\tpublic appNavService: AppNavService,\n\t\tpublic translate: TranslateService,\n\t\tpublic eventService: NxEventService,\n\t\tpublic historyHelper: HistoryHelperService,\n\t\tprivate modalController: ModalController,\n\t\tprivate driverService: DriverService,\n\t\tprivate orderApiService: OrderApiService,\n\t\tprivate socketService: SocketService,\n\t\tprivate appDataService: NxAppManagerService,\n\t\tprivate nxAppService: NxAppService,\n\t) {\n\t\tsuper();\n\n\t\tif (this.nav) {\n\t\t\tthis.nav.ngAfterViewInit.subscribe(\n\n\t\t\t);\n\n\t\t\tconsole.log(\"NAS IS NIL\");\n\t\t}\n\n\t\tappDataService.OnNewOrder.subscribe((order: IBooking) => {\n\t\t\t//\tif (this.activeOrder !== null) return;\n\t\t\tthis.activeOrder = order;\n\n\t\t\tthis.hackArray.push(order.orderData.id);\n\n\t\t\tlet modalData: ModalDataType = {\n\t\t\t\tmodal    : NewOrderModalComponent,\n\t\t\t\tbgDismiss: false,\n\t\t\t\theader   : \"Ny bokning\",\n\t\t\t\tdata     : order\n\t\t\t}\n\n\t\t\tthis.showModal(modalData);\n\t\t});\n\n\t\tthis.initializeApp();\n\t\tthis.setLanguage();\n\n\t\tsocketService.dataStream.subscribe(\n\t\t\t(msg: IMessage) => {\n\t\t\t\tswitch (msg.type) {\n\t\t\t\t\tcase MsgType.DriverUpdate:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t)\n\n\t\teventService.onNewEvent().subscribe(\n\t\t\tvalue => {\n\t\t\t\tthis.onEvent(value);\n\t\t\t}\n\t\t);\n\n\t}\n\n\tngOnInit(): void {\n\t}\n\n\tpublic async showModal(modalData: ModalDataType): Promise<void> {\n\t\treturn await this.presentModal(modalData);\n\t}\n\n\tonEvent(event: INxEvent) {\n\t\tswitch (event.eventType) {\n\t\t\tcase NxEvent.ShowModal:\n\t\t\t\tthis.presentModal(event.eventData);\n\t\t\t\tbreak;\n\n\t\t\tcase NxEvent.AppWideData:\n\t\t\t\tthis.updateAppData(event.eventData);\n\t\t\t\tbreak;\n\n\t\t\tcase NxEvent.NewOrder:\n\t\t\t\tthis.presentModal(event.eventData);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/**\n\t * Keep the App Data object updated\n\t * @param {NxAppEvent} appEvent\n\t * @returns {Promise<void>}\n\t */\n\tprivate async updateAppData(appEvent: NxAppEvent): Promise<void> {\n\t\tconsole.log(\"AppEvent ::\", appEvent);\n\t}\n\n\trouteTab(url: string) {\n\t\tconsole.log(\"NAV ::\", url);\n\t\tthis.appNavService.navigateRoot(url);\n\t}\n\n\tasync initializeApp() {\n\t\ttry {\n\t\t\tawait SplashScreen.hide();\n\t\t}\n\t\tcatch (err) {\n\t\t\tconsole.log('This is normal in a browser', err);\n\t\t}\n\t}\n\n\tdoLogout() {\n\t\tthis.driverService.logOut();\n\t\tthis.appNavService.navigateRoot(\"/auth/login\");\n\t}\n\n\tpublic async presentModal(data: ModalDataType, bgDismiss: boolean = false) {\n\t\tif (this.modalIsPresenting) return;\n\t\tthis.modalIsPresenting = true;\n\n\t\tconsole.log(\"MODAL DATA :::\", data)\n\n\t\tconst modal = await this.modalController.create(\n\t\t\t{\n\t\t\t\tcomponent      : data.modal,\n\t\t\t\tcomponentProps : {\n\t\t\t\t\theader: data.header,\n\t\t\t\t\tdata  : data.data,\n\t\t\t\t},\n\t\t\t\tbackdropDismiss: data.bgDismiss,\n\t\t\t});\n\n\t\tmodal.onDidDismiss().then(data => {\n\t\t\tconsole.log('data came back from modal :: ', data);\n\t\t\tthis.modalIsPresenting = false;\n\t\t});\n\n\t\tmodal.present().then(() => {\n\t\t\tthis.modalIsPresenting = true;\n\t\t}).catch(() => {\n\t\t\tthis.modalIsPresenting = false;\n\t\t});\n\t}\n\n\tsetLanguage() {\n\t\t// this language will be used as a fallback when a translation isn't found in the current language\n\t\tthis.translate.setDefaultLang('en');\n\n\t\t// the lang to use, if the lang isn't available, it will use the current loader to get them\n\t\tthis.translate.use('en');\n\n\t\t// this is to determine the text direction depending on the selected language\n\t\t// for the purpose of this example we determine that only arabic and hebrew are RTL.\n\t\t// this.translate.onLangChange.subscribe((event: LangChangeEvent) => {\n\t\t//   this.textDir = (event.lang === 'ar' || event.lang === 'iw') ? 'rtl' : 'ltr';\n\t\t// });\n\t}\n}\n","<ion-app dir=\"{{  appTitle }}\">\n\t<!-- when=false means that the split pane will never expand automatically -->\n\t<!-- For more info check https://ionicframework.com/docs/api/split-pane -->\n\n\t<ion-split-pane contentId=\"menu-content\" when=\"false\">\n\t\t<ion-menu contentId=\"menu-content\" class=\"app-sidemenu\">\n\t\t\t<!--<ion-header>\n\t\t\t\t<ion-toolbar>\n\t\t\t\t\t<ion-row class=\"user-details-wrapper\">\n\t\t\t\t\t\t<ion-col size=\"4\">\n\t\t\t\t\t\t\t<app-aspect-ratio [ratio]=\"{w: 1, h: 1}\">\n\t\t\t\t\t\t\t\t<app-image-shell\n\t\t\t\t\t\t\t\t\tclass=\"user-avatar\"\n\t\t\t\t\t\t\t\t\tanimation=\"spinner\"\n\t\t\t\t\t\t\t\t\t[src]=\"'./assets/sample-images/ionicthemes_logo.jpg'\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</app-image-shell>\n\t\t\t\t\t\t\t</app-aspect-ratio>\n\t\t\t\t\t\t</ion-col>\n\t\t\t\t\t\t<ion-col class=\"user-info-wrapper\" size=\"8\">\n\t\t\t\t\t\t\t<h3 class=\"user-name\">Driver Page</h3>\n\t\t\t\t\t\t\t<h5 class=\"user-handle\">@IonicThemes</h5>\n\t\t\t\t\t\t</ion-col>\n\t\t\t\t\t</ion-row>\n\t\t\t\t\t<ion-row class=\"user-stats-wrapper user-details-wrapper\">\n\t\t\t\t\t\t<ion-col>\n\t\t\t\t\t\t\t<span class=\"user-stat-value\">12</span>\n\t\t\t\t\t\t\t<span class=\"user-stat-name\">Messages</span>\n\t\t\t\t\t\t</ion-col>\n\t\t\t\t\t\t<ion-col>\n\t\t\t\t\t\t\t<span class=\"user-stat-value\">1 / 12</span>\n\t\t\t\t\t\t\t<span class=\"user-stat-name\">Orders</span>\n\t\t\t\t\t\t</ion-col>\n\t\t\t\t\t</ion-row>\n\t\t\t\t</ion-toolbar>\n\t\t\t</ion-header> -->\n\t\t\t<ion-content>\n\t\t\t\t<ion-list>\n\t\t\t\t\t<!--------------------------------------------->\n\t\t\t\t\t<!--- Bookings -->\n\t\t\t\t\t<!--------------------------------------------->\n\t\t\t\t\t<ion-list-header>\n\t\t\t\t\t\t<ion-label>Bokningar</ion-label>\n\t\t\t\t\t</ion-list-header>\n\t\t\t\t\t<ion-menu-toggle autoHide=\"false\">\n\t\t\t\t\t\t<ion-item [routerLink]=\"[]\">\n\t\t\t\t\t\t\t<ion-icon slot=\"start\" name=\"newspaper\" style=\"color: #000000\"></ion-icon>\n\t\t\t\t\t\t\t<ion-label>\n\t\t\t\t\t\t\t\tMina bokingar\n\t\t\t\t\t\t\t</ion-label>\n\t\t\t\t\t\t</ion-item>\n\t\t\t\t\t\t<ion-item [routerLink]=\"[]\">\n\t\t\t\t\t\t\t<ion-icon slot=\"start\" name=\"newspaper\" style=\"color: #000000\"></ion-icon>\n\t\t\t\t\t\t\t<ion-label>\n\t\t\t\t\t\t\t\tFrbestllningar\n\t\t\t\t\t\t\t</ion-label>\n\t\t\t\t\t\t</ion-item>\n\t\t\t\t\t</ion-menu-toggle>\n\t\t\t\t</ion-list>\n\t\t\t\t<ion-list>\n\t\t\t\t\t<!--------------------------------------------->\n\t\t\t\t\t<!--- Bookings -->\n\t\t\t\t\t<!--------------------------------------------->\n\t\t\t\t\t<ion-list-header>\n\t\t\t\t\t\t<ion-label>Skaffa pro</ion-label>\n\t\t\t\t\t</ion-list-header>\n\t\t\t\t\t<ion-menu-toggle autoHide=\"false\">\n\t\t\t\t\t\t<ion-item [routerLink]=\"[]\">\n\t\t\t\t\t\t\t<ion-label>\n\t\t\t\t\t\t\t\tKp PRO i 24 timmar fr <b>100</b> SEK\n\t\t\t\t\t\t\t</ion-label>\n\t\t\t\t\t\t</ion-item>\n\t\t\t\t\t\t<ion-item [routerLink]=\"[]\">\n\t\t\t\t\t\t\t<ion-label>\n\t\t\t\t\t\t\t\tKp PRO i en vecka fr <b>500</b> SEK\n\t\t\t\t\t\t\t</ion-label>\n\t\t\t\t\t\t</ion-item>\n\t\t\t\t\t\t<ion-item [routerLink]=\"[]\">\n\t\t\t\t\t\t\t<ion-label>\n\t\t\t\t\t\t\t\tKp PRO i en mnad fr <b>2000</b> SEK\n\t\t\t\t\t\t\t</ion-label>\n\t\t\t\t\t\t</ion-item>\n\t\t\t\t\t</ion-menu-toggle>\n\t\t\t\t</ion-list>\n\t\t\t\t<ion-list>\n\t\t\t\t\t<!--------------------------------------------->\n\t\t\t\t\t<!--- Standard -->\n\t\t\t\t\t<!--------------------------------------------->\n\t\t\t\t\t<ion-list-header>\n\t\t\t\t\t</ion-list-header>\n\t\t\t\t\t<ion-menu-toggle autoHide=\"false\">\n\t\t\t\t\t\t<ion-item [routerLink]=\"[]\">\n\t\t\t\t\t\t\t<ion-icon slot=\"start\" name=\"cash\" style=\"color: #000000\"></ion-icon>\n\t\t\t\t\t\t\t<ion-label>\n\t\t\t\t\t\t\t\tHnvisa och tjna\n\t\t\t\t\t\t\t</ion-label>\n\t\t\t\t\t\t</ion-item>\n\t\t\t\t\t\t<ion-item [routerLink]=\"['/app/messages']\">\n\t\t\t\t\t\t\t<ion-icon slot=\"start\" name=\"mail\" style=\"color: #000000\"></ion-icon>\n\t\t\t\t\t\t\t<ion-label>\n\t\t\t\t\t\t\t\tMeddelanden\n\t\t\t\t\t\t\t</ion-label>\n\t\t\t\t\t\t</ion-item>\n\t\t\t\t\t\t<ion-item [routerLink]=\"['/forms-filters']\">\n\t\t\t\t\t\t\t<ion-icon slot=\"start\" name=\"call\" style=\"color: #000000\"></ion-icon>\n\t\t\t\t\t\t\t<ion-label>\n\t\t\t\t\t\t\t\tSupport\n\t\t\t\t\t\t\t</ion-label>\n\t\t\t\t\t\t</ion-item>\n\t\t\t\t\t\t<ion-item [routerLink]=\"['/forms-filters']\">\n\t\t\t\t\t\t\t<ion-icon slot=\"start\" name=\"card\" style=\"color: #000000\"></ion-icon>\n\t\t\t\t\t\t\t<ion-label>\n\t\t\t\t\t\t\t\tKortdetaljer\n\t\t\t\t\t\t\t</ion-label>\n\t\t\t\t\t\t</ion-item>\n\t\t\t\t\t\t<ion-item [routerLink]=\"['/forms-filters']\">\n\t\t\t\t\t\t\t<ion-icon slot=\"start\" name=\"build\" style=\"color: #000000\"></ion-icon>\n\t\t\t\t\t\t\t<ion-label>\n\t\t\t\t\t\t\t\tInstllningar\n\t\t\t\t\t\t\t</ion-label>\n\t\t\t\t\t\t</ion-item>\n\t\t\t\t\t\t<ion-item (click)=\"doLogout()\">\n\t\t\t\t\t\t\t<ion-icon slot=\"start\" name=\"options-outline\"></ion-icon>\n\t\t\t\t\t\t\t<ion-label>\n\t\t\t\t\t\t\t\tLogga ut\n\t\t\t\t\t\t\t</ion-label>\n\t\t\t\t\t\t</ion-item>\n\t\t\t\t\t\t<ion-item [routerLink]=\"['/forms-filters']\">\n\t\t\t\t\t\t\t<ion-icon slot=\"start\" name=\"options-outline\"></ion-icon>\n\t\t\t\t\t\t\t<ion-label>\n\t\t\t\t\t\t\t\tPolicy\n\t\t\t\t\t\t\t</ion-label>\n\t\t\t\t\t\t</ion-item>\n\t\t\t\t\t</ion-menu-toggle>\n\t\t\t\t</ion-list>\n\t\t\t</ion-content>\n\t\t</ion-menu>\n\n\n\n\t\t<ion-router-outlet id=\"menu-content\">\n\t\t</ion-router-outlet>\n\n\t\t<app-tabs></app-tabs>\n\n\t\t<ion-tabs>\n\t\t\t<ion-tab-bar slot=\"bottom\">\n\t\t\t\t<ion-tab-button tab=\"start\" (click)=\"routeTab('/app/start')\">\n\t\t\t\t\t<ion-icon name=\"calendar\"></ion-icon>\n\t\t\t\t\t<ion-label>Start</ion-label>\n\t\t\t\t\t<ion-badge>6</ion-badge>\n\t\t\t\t</ion-tab-button>\n\n\t\t\t\t<ion-tab-button tab=\"getpro\" (click)=\"routeTab('/app/getpro')\">\n\t\t\t\t\t<ion-icon name=\"person-circle\"></ion-icon>\n\t\t\t\t\t<ion-label>Kp PRO</ion-label>\n\t\t\t\t\t<ion-badge color=\"primary\">11</ion-badge>\n\t\t\t\t</ion-tab-button>\n\n\t\t\t\t<ion-tab-button (click)=\"routeTab('/app/orders')\">\n\t\t\t\t\t<ion-icon name=\"map\"></ion-icon>\n\t\t\t\t\t<ion-label>Bokningar</ion-label>\n\t\t\t\t</ion-tab-button>\n\n\t\t\t\t<ion-tab-button tab=\"prebookings\" (click)=\"routeTab('/app/orders#pre')\">\n\t\t\t\t\t<ion-icon name=\"information-circle\"></ion-icon>\n\t\t\t\t\t<ion-label>Frbokningar</ion-label>\n\t\t\t\t</ion-tab-button>\n\n\t\t\t\t<ion-tab-button tab=\"messages\" (click)=\"routeTab('/app/messages')\">\n\t\t\t\t\t<ion-icon name=\"chatbox-outline\"></ion-icon>\n\t\t\t\t\t<ion-label>Meddelanden</ion-label>\n\t\t\t\t</ion-tab-button>\n\n\t\t\t</ion-tab-bar>\n\t\t</ion-tabs>\n\n\t</ion-split-pane>\n\n</ion-app>\n\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { NgModule }                        from '@angular/core';\nimport { BrowserModule }                   from '@angular/platform-browser';\nimport { BrowserTransferStateModule }      from '@angular/platform-browser';\nimport { RouteReuseStrategy }              from '@angular/router';\nimport { GeoService }                      from \"@core/services/geo.service\";\nimport { TabsService }                     from \"@core/services/tabs.service\";\nimport { IonicModule, IonicRouteStrategy } from '@ionic/angular';\nimport { ServiceWorkerModule }             from '@angular/service-worker';\nimport { TranslateModuleConfig } from \"@ngx-translate/core\";\nimport { NxAppManagerService }   from \"@nxApp/nx-app-manager.service\";\nimport { NxComponentsModule }    from \"@nxApp/components/nx-components.module\";\nimport { NxEventService }                  from \"@nxApp/events/nx-event.service\";\nimport { ComponentsModule }                from '@components/components.module';\nimport { NxAppModule }                     from \"@nxApp/nx-app.module\";\nimport { AppNavService }                   from \"@nxApp/services/app-nav.service\";\nimport { DriverService }                   from \"@nxApp/services/driver/driver.service\";\nimport { NxAppService }                    from \"@nxApp/services/nx-app.service\";\nimport { ApiFactory }                      from \"@api/api-factory\";\nimport { DriverApiService }                from \"@api/driver-api.service\";\nimport { OrderApiService }                 from \"@api/order-api.service\";\nimport { AppRoutingModule }                 from './app-routing.module';\nimport { AppComponent }                     from './app.component';\nimport { environment }                      from '../environments/environment';\nimport { ReactiveFormsModule }              from '@angular/forms';\nimport { HttpClientModule, HttpClient }     from '@angular/common/http';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { TranslateHttpLoader }              from '@ngx-translate/http-loader';\nimport { ApiClientService }                 from \"@core/services/api-client.service\";\nimport { SocketIoModule }                   from 'ngx-socket-io';\nimport { SocketIoConfig }                   from 'ngx-socket-io';\nimport { LoggingService }                   from \"@core/services/logging.service\";\nimport { SocketService }                    from \"@core/services/socket.service\";\nimport { TabsPageModule }                   from \"./tabs/tabs.module\";\nimport { IonicStorageModule }               from '@ionic/storage-angular';\nimport { CUSTOM_ELEMENTS_SCHEMA }           from '@angular/core';\n\nconst socketIoConfig: SocketIoConfig = {\n\turl    : environment.webSocketUrl,\n\toptions: {\n\t\tautoConnect: true,\n\t\ttransports : [ 'websocket' ]\n\t}\n}\n\nconst translateConfig: TranslateModuleConfig = {\n\tloader: {\n\t\tprovide   : TranslateLoader,\n\t\tuseFactory: ( createTranslateLoader ),\n\t\tdeps      : [ HttpClient ]\n\t}\n}\n\nexport function createTranslateLoader(http: HttpClient) {\n\treturn new TranslateHttpLoader(http, './assets/i18n/', '.json');\n}\n\n@NgModule(\n\t{\n\t\tdeclarations: [\n\t\t\tAppComponent\n\t\t],\n\t\timports     : [\n\t\t\tBrowserModule.withServerTransition({ appId: 'serverApp' }),\n\t\t\tBrowserTransferStateModule,\n\t\t\tIonicModule.forRoot(),\n\t\t\tReactiveFormsModule,\n\t\t\tAppRoutingModule,\n\t\t\tHttpClientModule,\n\t\t\tNxAppModule,\n\t\t\tComponentsModule,\n\t\t\tNxComponentsModule,\n\t\t\tServiceWorkerModule.register('/ngsw-worker.js', { enabled: environment.production }),\n\t\t\tSocketIoModule.forRoot(socketIoConfig),\n\t\t\tTranslateModule.forRoot(translateConfig),\n\t\t\tIonicStorageModule.forRoot(),\n\t\t\tTabsPageModule\n\t\t],\n\t\tproviders   : [\n\t\t\t{ provide: RouteReuseStrategy, useClass: IonicRouteStrategy },\n\t\t\tGeoService,\n\t\t\tTabsService,\n\t\t\tApiClientService,\n\t\t\tApiFactory,\n\t\t\tSocketService,\n\t\t\tGeoService,\n\t\t\tLoggingService,\n\t\t\tNxAppService,\n\t\t\tNxEventService,\n\t\t\tDriverApiService,\n\t\t\tDriverService,\n\t\t\tOrderApiService,\n\t\t\tAppNavService,\n\t\t\tNxAppService\n\n\t\t],\n\t\tbootstrap   : [ AppComponent ],\n\t\tschemas     : [ CUSTOM_ELEMENTS_SCHEMA ]\n\t})\nexport class AppModule {\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nexport const GoogleMapApiKey = \"AIzaSyDZHf56UUmMLo2cv_5dydfITZsOKeHooyM\";\n\nexport const AppTitle = \"CmApp\";\n\nexport class AppSettings {\n}\n","/**\n * Copyright (c) 2018 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary, unlicensed this piece of software is under the most restrictive model.\n * There are commercial licensing available which then falls under the license model\n * described in GPL V2.1 (https://www.gnu.org/licenses/old-licenses/lgpl-2.1.en.html)\n *\n * @license\n * Dual license\n *\n * @description:\n *\n * @author\n * Patrik Forsberg<patrik.forsberg@coldmind.com> on 2018-04-12\n *\n */\n\nimport { CanActivateChild }       from \"@angular/router\";\nimport { UrlTree }                from \"@angular/router\";\nimport { RouterStateSnapshot }    from \"@angular/router\";\nimport { ActivatedRouteSnapshot } from \"@angular/router\";\nimport { CanActivate }            from \"@angular/router\";\nimport { Subject }                from \"rxjs\";\nimport { Observable }             from \"rxjs\";\n\nexport class CmAuthGuard implements CanActivate {\n\tpublic canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean | UrlTree> {\n\t\treturn new Subject()\n\t}\n}\n\nexport class CmAuthChildGuard implements CanActivateChild {\n\tpublic canActivateChild(childRoute: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean | UrlTree> {\n\t\tlet res = new Subject<any>();\n\t\treturn res.asObservable();\n\t}\n}\n\n","import { Component, AfterContentInit, ContentChild, HostBinding } from '@angular/core';\n\n// Reference to the @ionic/angular Components List:\n// https://github.com/ionic-team/ionic/blob/master/angular/src/directives/proxies.ts\nimport { IonCheckbox } from '@ionic/angular';\n\n@Component({\n  selector: 'app-checkbox-wrapper',\n  templateUrl: './checkbox-wrapper.component.html',\n  styleUrls: [\n    './checkbox-wrapper.component.scss'\n  ]\n})\nexport class CheckboxWrapperComponent implements AfterContentInit {\n  @ContentChild(IonCheckbox) checkbox: IonCheckbox;\n\n  @HostBinding('class.checkbox-checked') isChecked: boolean;\n\n  constructor() {}\n\n  ngAfterContentInit() {\n    // ContentChild is set\n    this.isChecked = this.checkbox.checked;\n\n    // Subscribe to changes\n    this.checkbox.ionChange.subscribe(changes => {\n      this.isChecked = changes.detail.checked;\n    });\n  }\n}\n","<ng-content></ng-content>\n","import { NgModule }                  from '@angular/core';\nimport { CommonModule }              from '@angular/common';\nimport { FormsModule }               from '@angular/forms';\nimport { IonicModule }               from '@ionic/angular';\nimport { ShellModule }               from './shell/shell.module';\nimport { CheckboxWrapperComponent }  from './checkbox-wrapper/checkbox-wrapper.component';\nimport { ShowHidePasswordComponent } from './show-hide-password/show-hide-password.component';\nimport { CountdownTimerComponent }   from './countdown-timer/countdown-timer.component';\nimport { CounterInputComponent }     from './counter-input/counter-input.component';\nimport { RatingInputComponent }      from './rating-input/rating-input.component';\nimport { GoogleMapComponent }        from './google-map/google-map.component';\nimport { ModalComponent }            from './modal/modal.component';\n\n@NgModule(\n\t{\n\t\timports     : [\n\t\t\tCommonModule,\n\t\t\tFormsModule,\n\t\t\tShellModule,\n\t\t\tIonicModule\n\t\t],\n\t\tdeclarations: [\n\t\t\tCheckboxWrapperComponent,\n\t\t\tShowHidePasswordComponent,\n\t\t\tCountdownTimerComponent,\n\t\t\tCounterInputComponent,\n\t\t\tRatingInputComponent,\n\t\t\tGoogleMapComponent,\n\t\t\tModalComponent\n\t\t],\n\t\texports     : [\n\t\t\tShellModule,\n\t\t\tCheckboxWrapperComponent,\n\t\t\tShowHidePasswordComponent,\n\t\t\tCountdownTimerComponent,\n\t\t\tCounterInputComponent,\n\t\t\tRatingInputComponent,\n\t\t\tGoogleMapComponent\n\t\t]\n\t})\nexport class ComponentsModule {\n}\n","import { Component, Input, OnInit, OnDestroy, Inject, PLATFORM_ID } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\n\nimport { Observable, Subject, interval } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport * as dayjs from 'dayjs';\n\n@Component({\n  selector: 'app-countdown-timer',\n  templateUrl: './countdown-timer.component.html',\n  styleUrls: [\n    './countdown-timer.component.scss'\n  ]\n})\nexport class CountdownTimerComponent implements OnInit, OnDestroy {\n  _endingTime: any;\n  _initialUnit = 'hour';\n  _endingUnit = 'second';\n\n  _updateInterval: Observable<any> = interval(1000);\n  private _unsubscribeSubject: Subject<void> = new Subject();\n\n  _daysLeft: number;\n  _hoursLeft: number;\n  _minutesLeft: number;\n  _secondsLeft: number;\n\n  // DIVISORS\n  // 60 seconds * 60 (minutes) * 24 (hours) = 86400 seconds = 1 day\n  _dayDivisor = (60 * 60 * 24);\n  // 60 seconds * 60 (minutes) = 3600 seconds = 1 hour\n  _hourDivisor = (60 * 60);\n  // 60 seconds = 1 minute\n  _minuteDivisor = 60;\n  _secondDivisor = 1;\n\n  // MODULUS\n  // Neutral modulus\n  _dayModulus = (secondsLeft) => secondsLeft;\n  // The modulus operator (%) returns the division remainder.\n  // To figure out how many hours are left after taking in consideration the days, we should do:\n  //    (secondsLeft % hourModulus) / hourDivisor\n  // In 1 day there are 86400 seconds, and in 1 hour 3600 seconds. 1 day + 1 hour = 90000 seconds\n  //    (90000s % 86400s) / 3600s = 1h\n  _hourModulus = (secondsLeft) => (secondsLeft % this._dayDivisor);\n  _minuteModulus = (secondsLeft) => (secondsLeft % this._hourDivisor);\n  _secondModulus = (secondsLeft) => (secondsLeft % this._minuteDivisor);\n\n  @Input()\n  set end(endingTime: string) {\n    this._endingTime = (endingTime !== undefined && endingTime !== null) ? dayjs(endingTime) : dayjs();\n  }\n\n  @Input()\n  set units(units: {from: string, to: string}) {\n    // 'day', 'hour, 'minute', 'second'\n    this._initialUnit = (units !== undefined && (units.from !== undefined && units.from !== null)) ? units.from : 'hour';\n    this._endingUnit = (units !== undefined && (units.to !== undefined && units.to !== null)) ? units.to : 'second';\n\n    // For 'day' unit, use the default modulus\n\n    // Adjust modulus depending on the unit\n    if (this._initialUnit === 'hour') {\n      // Cancelation modulus\n      this._dayModulus = (secondsLeft) => 1;\n      // Neutral modulus\n      this._hourModulus = (secondsLeft) => secondsLeft;\n    }\n\n    if (this._initialUnit === 'minute') {\n      // Cancelation modulus\n      this._dayModulus = (secondsLeft) => 1;\n      this._hourModulus = (secondsLeft) => 1;\n      // Neutral modulus\n      this._minuteModulus = (secondsLeft) => secondsLeft;\n    }\n\n    if (this._initialUnit === 'second') {\n      // Cancelation modulus\n      this._dayModulus = (secondsLeft) => 1;\n      this._hourModulus = (secondsLeft) => 1;\n      this._minuteModulus = (secondsLeft) => 1;\n      // Neutral modulus\n      this._secondModulus = (secondsLeft) => secondsLeft;\n    }\n  }\n\n  constructor(\n    @Inject(PLATFORM_ID) private platformId: object,\n  ) { }\n\n  ngOnInit(): void {\n    // I believe if we run this on SSR, it won't ever trigger the change detection and thus the server will be stuck loading\n    if (isPlatformBrowser(this.platformId)) {\n      this._updateInterval.pipe(takeUntil(this._unsubscribeSubject)).subscribe(\n        (val) => {\n          this.updateValues();\n        },\n        (error) => console.error(error),\n        () => console.log('[takeUntil] complete')\n      );\n    } else {\n      this.updateValues();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this._unsubscribeSubject.next();\n    this._unsubscribeSubject.complete();\n  }\n\n  updateValues(): void {\n    const secondsLeft = this._endingTime.diff(dayjs(), 'second');\n\n    this._daysLeft = Math.floor(this._dayModulus(secondsLeft) / this._dayDivisor);\n    this._hoursLeft = Math.floor(this._hourModulus(secondsLeft) / this._hourDivisor);\n    this._minutesLeft = Math.floor(this._minuteModulus(secondsLeft) / this._minuteDivisor);\n    this._secondsLeft = Math.floor(this._secondModulus(secondsLeft) / this._secondDivisor);\n  }\n}\n","<ion-row class=\"countdown\">\n  <ion-col class=\"time\" *ngIf=\"_initialUnit === 'day'\">\n    <span class=\"time-unit\">D</span>\n    <div class=\"inner-time\">\n      <span class=\"time-value\">{{ _daysLeft }}</span>\n    </div>\n  </ion-col>\n  <ion-col class=\"time\" *ngIf=\"(_initialUnit === 'day' && _endingUnit !== 'day') || _initialUnit === 'hour' || _endingUnit === 'hour'\">\n    <span class=\"time-unit\">H</span>\n    <div class=\"inner-time\">\n      <span class=\"time-value\">{{ _hoursLeft }}</span>\n    </div>\n  </ion-col>\n  <ion-col class=\"time\" *ngIf=\"(_initialUnit === 'day' && (_endingUnit !== 'day' && _endingUnit !== 'hour')) || (_initialUnit === 'hour' && _endingUnit !== 'hour') || _initialUnit === 'minute'\">\n    <span class=\"time-unit\">M</span>\n    <div class=\"inner-time\">\n      <span class=\"time-value\">{{ _minutesLeft }}</span>\n    </div>\n  </ion-col>\n  <ion-col class=\"time\" *ngIf=\"_endingUnit === 'second'\">\n    <span class=\"time-unit\">S</span>\n    <div class=\"inner-time\">\n      <span class=\"time-value\">{{ _secondsLeft }}</span>\n    </div>\n  </ion-col>\n</ion-row>\n","import { Component, forwardRef, Input, OnChanges, ViewEncapsulation } from '@angular/core';\nimport { FormControl, ControlValueAccessor, NG_VALUE_ACCESSOR, NG_VALIDATORS } from '@angular/forms';\n\nexport function counterRangeValidator(minValue, maxValue) {\n  return (c: FormControl) => {\n    const err = {\n      rangeError: {\n        given: c.value,\n        min: minValue || 0,\n        max: maxValue || 10\n      }\n    };\n\n    return (c.value > +maxValue || c.value < +minValue) ? err : null;\n  };\n}\n\n@Component({\n  selector: 'app-counter-input',\n  templateUrl: './counter-input.component.html',\n  styleUrls: ['./counter-input.component.scss'],\n  providers: [\n    { provide: NG_VALUE_ACCESSOR, useExisting: forwardRef(() => CounterInputComponent), multi: true },\n    { provide: NG_VALIDATORS, useExisting: forwardRef(() => CounterInputComponent), multi: true }\n  ],\n  encapsulation: ViewEncapsulation.None\n})\nexport class CounterInputComponent implements ControlValueAccessor, OnChanges {\n  // eslint-disable-next-line @angular-eslint/no-input-rename\n  @Input('counterValue') _counterValue = 0;\n  // eslint-disable-next-line @angular-eslint/no-input-rename\n  @Input('max') counterRangeMax;\n  // eslint-disable-next-line @angular-eslint/no-input-rename\n  @Input('min') counterRangeMin;\n\n  propagateChange: any = () => {}; // Noop function\n  validateFn: any = () => {}; // Noop function\n\n  get counterValue() {\n    return this._counterValue;\n  }\n\n  set counterValue(val) {\n    this._counterValue = val;\n    this.propagateChange(val);\n  }\n\n  ngOnChanges(inputs) {\n    if (inputs.counterRangeMax || inputs.counterRangeMin) {\n      this.validateFn = counterRangeValidator(this.counterRangeMin, this.counterRangeMax);\n    }\n  }\n\n  writeValue(value) {\n    if (value) {\n      this.counterValue = value;\n    }\n  }\n\n  registerOnChange(fn) {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched() {}\n\n  increase() {\n    this.counterValue++;\n  }\n\n  decrease() {\n    this.counterValue--;\n  }\n\n  validate(c: FormControl) {\n    return this.validateFn(c);\n  }\n}\n","<div class=\"button-outer\">\n  <div class=\"button-wrapper\">\n    <ion-button class=\"counter-icon\" (click)=\"decrease()\">\n      <ion-icon slot=\"icon-only\" name=\"remove\"></ion-icon>\n    </ion-button>\n  </div>\n</div>\n<span class=\"counter-value\">{{ _counterValue }}</span>\n<div class=\"button-outer\">\n  <div class=\"button-wrapper\">\n    <ion-button class=\"counter-icon\" (click)=\"increase()\">\n      <ion-icon slot=\"icon-only\" name=\"add\"></ion-icon>\n    </ion-button>\n  </div>\n</div>\n","import { isPlatformBrowser } from '@angular/common';\nimport { Component, ElementRef, OnInit, EventEmitter, Input, PLATFORM_ID, Inject } from '@angular/core';\n\n@Component({\n  selector: 'app-google-map',\n  template: ''\n})\nexport class GoogleMapComponent implements OnInit {\n\n  @Input() mapOptions: google.maps.MapOptions;\n  public _el: HTMLElement;\n  public _map: google.maps.Map;\n  public $mapReady: EventEmitter<any> = new EventEmitter();\n  public _mapIdledOnce = false;\n\n  constructor(\n    public _elementRef: ElementRef,\n    @Inject(PLATFORM_ID) private platformId: object\n  ) { }\n\n  ngOnInit() {\n    // there are some issues with maps in server side\n    if (isPlatformBrowser(this.platformId)) {\n      this.initMap();\n    }\n  }\n\n  initMap(): void {\n    this._el = this._elementRef.nativeElement;\n    this._map = new google.maps.Map(this._el, this.mapOptions);\n\n    // Workarround for init method: try to catch the first idle event after the map creation\n    // (this._mapIdledOnce). The following idle events don't matter.\n    const _ready_listener = this._map.addListener('idle', () => {\n      console.log('mapReady - IDLE');\n      if (!this._mapIdledOnce) {\n        this.$mapReady.emit(this._map);\n        this._mapIdledOnce = true;\n        // Stop listening to event, the map is ready\n        google.maps.event.removeListener(_ready_listener);\n      }\n    });\n  }\n}\n","/**\n * Copyright (c) 2019 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { Component, OnInit } from '@angular/core';\n\n@Component(\n\t{\n\t\tselector:    'app-modal',\n\t\ttemplateUrl: './modal.component.html',\n\t\tstyleUrls:   ['./modal.component.css']\n\t})\nexport class ModalComponent implements OnInit {\n\n\tconstructor() { }\n\n\tngOnInit(): void {\n\t}\n}\n","<ion-header>\n\tNy Bokning\n</ion-header>\n<ion-content>\n\n</ion-content>\n\n<ion-footer>\n\t<ion-row class=\"form-actions-wrapper\">\n\t\t<ion-col>\n\t\t\t<ion-button class=\"delete-btn\" expand=\"block\" color=\"primary\" fill=\"outline\">\n\t\t\t\tDELETE\n\t\t\t</ion-button>\n\t\t</ion-col>\n\t\t<ion-col>\n\t\t\t<ion-button class=\"submit-btn\" expand=\"block\" color=\"secondary\" type=\"submit\" fill=\"solid\">UPDATE\n\t\t\t</ion-button>\n\t\t</ion-col>\n\t</ion-row>\n</ion-footer>\n","import { Component, forwardRef, Input, ViewEncapsulation, OnInit } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\n\n@Component({\n  selector: 'app-rating-input',\n  templateUrl: './rating-input.component.html',\n  styleUrls: ['./rating-input.component.scss'],\n  providers: [\n    { provide: NG_VALUE_ACCESSOR, useExisting: forwardRef(() => RatingInputComponent), multi: true }\n  ],\n  encapsulation: ViewEncapsulation.None\n})\nexport class RatingInputComponent implements ControlValueAccessor, OnInit {\n  @Input() max = 5;\n  @Input() readOnly = false;\n\n  range: Array<number>;\n  innerValue: any;\n  propagateChange: any = () => {}; // Noop function\n\n  ngOnInit() {\n    const states: Array<number> = [];\n\n    for (let i = 0; i < this.max; i++) {\n      if (this.innerValue > i && this.innerValue < i + 1) {\n        states[i] = 2;\n      } else if (this.innerValue > i) {\n        states[i] = 1;\n      } else {\n        states[i] = 0;\n      }\n    }\n\n    this.range = states;\n  }\n\n  get value(): any {\n    return this.innerValue;\n  }\n\n  set value(val: any) {\n    if (val !== this.innerValue) {\n      this.innerValue = val;\n      this.propagateChange(val);\n    }\n  }\n\n  writeValue(value: any) {\n    if (value !== this.innerValue) {\n      this.innerValue = value;\n    }\n  }\n\n  registerOnChange(fn) {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched() {}\n\n  rate(amount: number) {\n    if (!this.readOnly && amount >= 0 && amount <= this.range.length) {\n      this.value = amount;\n    }\n  }\n}\n","<ion-button class=\"rating-icon\" fill=\"clear\" shape=\"round\" *ngFor=\"let r of range; let i = index\" (click)=\"rate(i + 1)\">\n\t<ion-icon slot=\"icon-only\" [name]=\"value === undefined ? (r === 1 ? 'star' : (r === 2 ? 'star-half' : 'star-outline')) : (value > i ? (value < i+1 ? 'star-half' : 'star') : 'star-outline')\"></ion-icon>\n</ion-button>\n","import { Component, Input, HostBinding } from '@angular/core';\n\n@Component({\n  selector:    'app-aspect-ratio',\n  templateUrl: './aspect-ratio.component.html',\n  styleUrls:   ['./aspect-ratio.component.scss']\n})\nexport class AspectRatioComponent {\n\n  @HostBinding('style.padding') ratioPadding = '0px';\n\n  @Input()\n  set ratio(ratio: { w: number, h: number }) {\n    ratio = (ratio !== undefined && ratio !== null) ? ratio : {w: 1, h: 1};\n\n    const heightRatio = (ratio.h / ratio.w * 100) + '%';\n\n    // Conserve aspect ratio (see: http://stackoverflow.com/a/10441480/1116959)\n    this.ratioPadding = '0px 0px ' + heightRatio + ' 0px';\n  }\n\n  constructor() { }\n}\n","<div class=\"content-wrapper\">\n  <ng-content></ng-content>\n</div>\n","import { Component, Input, HostBinding } from '@angular/core';\nimport { environment }                   from '../../../../environments/environment';\nimport { ImageShellState, TransferStateHelper } from '@utils/transfer-state-helper';\n\n@Component(\n\t{\n\t\tselector   : 'app-image-shell',\n\t\ttemplateUrl: './image-shell.component.html',\n\t\tstyleUrls  : [ './image-shell.component.scss' ]\n\t})\nexport class ImageShellComponent {\n\t// To debug shell styles, change configuration in the environment file\n\tprivate debugDisplay = ( environment.appShellConfig && environment.appShellConfig.debug )\n\t\t\t\t\t\t   ? environment.appShellConfig.debug : false;\n\n\t_src                               = '';\n\t_alt                               = '';\n\t_loadingStrategy: 'lazy' | 'eager' = 'lazy';\n\t_display                           = '';\n\n\t@HostBinding('class.img-ssr') imageSSR       = false;\n\t@HostBinding('class.img-loaded') imageLoaded = false;\n\t@HostBinding('class.img-error') imageError   = false;\n\n\t@HostBinding('attr.data-error') errorMessage = 'Could not load image';\n\n\t@HostBinding('style.backgroundImage') backgroundImage: string;\n\n\t@HostBinding('attr.display')\n\t@Input()\n\tset display(val: string) {\n\t\tthis._display = ( val !== undefined && val !== null ) ? val : '';\n\n\t\t// For display 'cover' we use a hidden aux image. As it's hidden, if set loading to 'lazy' it won't ever trigger the loading mechanism\n\t\tif (this._display === 'cover') {\n\t\t\tthis._loadingStrategy = 'eager';\n\t\t}\n\t}\n\n\tget display(): string {\n\t\treturn this._display;\n\t}\n\n\t@Input()\n\tset src(val: string) {\n\t\tif (!this.debugDisplay) {\n\t\t\tthis._src = ( val !== undefined && val !== null ) ? val : '';\n\t\t}\n\n\t\t// When using SSR (Server Side Rendering), avoid the loading animation while the image resource is being loaded\n\t\tconst imageState = this.transferStateHelper.checkImageShellState('shell-images-state', this._src);\n\n\t\tif (imageState === ImageShellState.SSR || imageState === ImageShellState.BROWSER_FROM_SSR) {\n\t\t\tthis._imageProcessedInServer();\n\t\t}\n\t\telse {\n\t\t\tif (this._display === 'cover') {\n\t\t\t\t// Unset the background-image until the image is loaded\n\t\t\t\tthis.backgroundImage = 'unset';\n\t\t\t}\n\t\t}\n\t}\n\n\t@Input()\n\tset alt(val: string) {\n\t\tthis._alt = ( val !== undefined && val !== null ) ? val : '';\n\t}\n\n\tconstructor(\n\t\tprivate transferStateHelper: TransferStateHelper\n\t) {\n\t}\n\n\t_imageProcessedInServer(): void {\n\t\tthis.imageSSR = true;\n\n\t\t// Also set backgroundImage so it's ready when transitioning from SSR to the browser\n\t\tif (this._display === 'cover') {\n\t\t\tthis.backgroundImage = 'url(' + this._src + ')';\n\t\t}\n\t}\n\n\t_imageLoaded(): void {\n\t\tthis.imageLoaded = true;\n\n\t\t// If it's a cover image then set the background-image property accordingly\n\t\tif (this._display === 'cover') {\n\t\t\t// Now that the image is loaded, set the background image\n\t\t\tthis.backgroundImage = 'url(' + this._src + ')';\n\t\t}\n\t}\n\n\t_imageLoadError(event: Event): void {\n\t\t// Image error event get's called when the src is empty. We use emty values for the shell.\n\t\t// (see: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#Image_loading_errors)\n\t\t// Avoid that shell case\n\t\tif (this._src && this._src !== '') {\n\t\t\tthis.imageLoaded = false;\n\t\t\tthis.imageSSR    = false;\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.imageError = true;\n\t\t\t}, 500);\n\t\t}\n\t}\n}\n","<ion-spinner class=\"spinner\"></ion-spinner>\n<img class=\"inner-img\" [src]=\"_src\" [alt]=\"_alt\" [attr.loading]=\"_loadingStrategy\" (load)=\"_imageLoaded()\" (error)=\"_imageLoadError($event)\"/>\n<ng-content *ngIf=\"_display === 'cover'\"></ng-content>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\n\nimport { AspectRatioComponent } from './aspect-ratio/aspect-ratio.component';\nimport { ImageShellComponent }  from './image-shell/image-shell.component';\nimport { TextShellComponent }   from './text-shell/text-shell.component';\n\n@NgModule({\n  declarations: [\n    AspectRatioComponent,\n    ImageShellComponent,\n    TextShellComponent\n  ],\n  imports: [\n    CommonModule,\n    IonicModule\n  ],\n  exports: [\n    AspectRatioComponent,\n    ImageShellComponent,\n    TextShellComponent\n  ]\n})\nexport class ShellModule { }\n","import { Component, Input, HostBinding } from '@angular/core';\nimport { environment }                   from '../../../../environments/environment';\n\n@Component(\n\t{\n\t\tselector:    'app-text-shell',\n\t\ttemplateUrl: './text-shell.component.html',\n\t\tstyleUrls:   ['./text-shell.component.scss']\n\t})\nexport class TextShellComponent {\n\t// To debug shell styles, change configuration in the environment file\n\tprivate debugMode = ( environment.appShellConfig && environment.appShellConfig.debug ) ? environment.appShellConfig.debug : false;\n\n\t// eslint-disable-next-line @typescript-eslint/naming-convention, no-underscore-dangle, id-blacklist, id-match\n\t_data: '';\n\n\t@HostBinding('class.text-loaded') textLoaded = false;\n\n\t@Input() set data(val: any) {\n\t\tif (!this.debugMode) {\n\t\t\tthis._data = ( val !== undefined && val !== null ) ? val : '';\n\t\t}\n\n\t\tif (this._data && this._data !== '') {\n\t\t\tthis.textLoaded = true;\n\t\t}\n\t\telse {\n\t\t\tthis.textLoaded = false;\n\t\t}\n\t}\n\n\tconstructor() { }\n}\n","<ng-container>{{ _data }}</ng-container>\n","import { Component, ContentChild } from '@angular/core';\nimport { IonInput } from '@ionic/angular';\n\n@Component({\n  selector: 'app-show-hide-password',\n  templateUrl: './show-hide-password.component.html',\n  styleUrls: ['./show-hide-password.component.scss']\n})\nexport class ShowHidePasswordComponent {\n  showPassword = false;\n\n  @ContentChild(IonInput) input: IonInput;\n\n  constructor() {}\n\n  toggleShow() {\n    this.showPassword = !this.showPassword;\n    this.input.type = this.showPassword ? 'text' : 'password';\n  }\n}\n","<ng-content></ng-content>\n<a class=\"type-toggle\" (click)=\"toggleShow()\">\n\t<ion-icon class=\"show-option\" [hidden]=\"showPassword\" name=\"eye-off-outline\"></ion-icon>\n\t<ion-icon class=\"hide-option\" [hidden]=\"!showPassword\" name=\"eye-outline\"></ion-icon>\n\t<!-- In case you want to use text instead of icons -->\n\t<!--\n\t<span class=\"show-option\" [hidden]=\"showPassword\">show</span>\n\t<span class=\"hide-option\" [hidden]=\"!showPassword\">hide</span>\n\t-->\n</a>\n","/**\n * Copyright (c) 2019 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n *\n * This file is part of the TZ project\n */\n\nimport { Injectable }     from '@angular/core';\nimport { HttpClient }     from '@angular/common/http';\nimport { of }             from \"rxjs\";\nimport { Observable }     from \"rxjs\";\nimport { catchError }     from \"rxjs/operators\";\nimport { tap }            from \"rxjs/operators\";\nimport { environment }    from \"../../../environments/environment\";\nimport { LoggingService } from \"./logging.service\";\n\n@Injectable(\n\t{\n\t\tprovidedIn: 'root'\n\t})\nexport class ApiClientService {\n\tbaseUrl: string        = environment.apiEndpoint;\n\tpublic httpGetOptions  = { withCredentials: true };\n\tpublic httpPostOptions = { withCredentials: true };\n\n\tconstructor(\n\t\tprivate logger: LoggingService,\n\t\tprivate httpClient: HttpClient\n\t) { }\n\n\tpublic postData<Type>(payload: any): Observable<Type[]> {\n\t\tconst _funcName = 'ApiClientService::postData';\n\t\treturn this.httpClient.post<Type[]>(`${ environment.webSocketUrl }`, payload, this.httpPostOptions).pipe(\n\t\t\ttap(data => {\n\t\t\t\t\tthis.logger.debug(`${_funcName}`, 'data', data);\n\t\t\t\t},\n\t\t\t\terror => {\n\t\t\t\t\tthis.logger.error(_funcName, error);\n\t\t\t\t}\n\t\t\t),\n\t\t\tcatchError(this.handleError(_funcName, payload))\n\t\t);\n\t}\n\n\tpublic handleError<T>(operation = 'operation', result?: T) {\n\t\treturn (error: any): Observable<T> => {\n\t\t\tthis.logger.error(error);\n\t\t\tthis.logger.serverError('Error ::', error);\n\t\t\tthis.logger.error(`${ operation } failed: ${ error.message }`);\n\n\t\t\t// Let the app keep running by returning an empty result.\n\t\t\treturn of(result as T);\n\t\t};\n\t}\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { Injectable }    from '@angular/core';\nimport { DriverService } from \"@nxApp/services/driver/driver.service\";\nimport { Observable }    from 'rxjs';\n\nconst GEOLOCATION_ERRORS = {\n\t'errors.location.unsupportedBrowser': 'Browser does not support location services',\n\t'errors.location.permissionDenied': 'You have rejected access to your location',\n\t'errors.location.positionUnavailable': 'Unable to determine your location',\n\t'errors.location.timeout': 'Service timeout has been reached'\n};\n\n@Injectable(\n\t{\n\t\tprovidedIn: 'root'\n\t})\nexport class GeoService {\n\tpublic geoEnabled(): boolean {\n\t\treturn !(!window.navigator || !window.navigator.geolocation);\n\t}\n\n\tpublic watchPosition(): Observable<any> {\n\t\treturn new Observable(observer => {\n\t\t\tlet watchId;\n\t\t\tconst success = position => {\n\t\t\t\tobserver.next(position);\n\t\t\t};\n\t\t\tconst error = err => {\n\t\t\t\tobserver.error(err);\n\t\t\t};\n\n\t\t\tif (this.geoEnabled()) {\n\t\t\t\twindow.navigator.geolocation.watchPosition(\n\t\t\t\t\t(position: GeolocationPosition) => {\n\t\t\t\t\t\tobserver.next(position);\n\t\t\t\t\t},\n\t\t\t\t\t(error: GeolocationPositionError) => {\n\t\t\t\t\t\tswitch (error.code) {\n\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\tobserver.error(GEOLOCATION_ERRORS['errors.location.permissionDenied']);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tobserver.error(GEOLOCATION_ERRORS['errors.location.positionUnavailable']);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\tobserver.error(GEOLOCATION_ERRORS['errors.location.timeout']);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tconsole.log(\"GEO NOT ENABLED !!!!!\");\n\t\t\t\tobserver.error(GEOLOCATION_ERRORS['errors.location.unsupportedBrowser']);\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic getPosition(geoLocationOptions?: any): Promise<GeolocationPosition>{\n\t\tgeoLocationOptions = geoLocationOptions || { timeout: 5000 };\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (this.geoEnabled()) {\n\t\t\t\twindow.navigator.geolocation.getCurrentPosition(\n\t\t\t\t\t(position: GeolocationPosition) => {\n\t\t\t\t\t\tresolve(position);\n\t\t\t\t\t},\n\t\t\t\t\t(error: GeolocationPositionError) => {\n\t\t\t\t\t\tswitch (error.code) {\n\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\treject(GEOLOCATION_ERRORS['errors.location.permissionDenied']);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\treject(GEOLOCATION_ERRORS['errors.location.positionUnavailable']);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\treject(GEOLOCATION_ERRORS['errors.location.timeout']);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tgeoLocationOptions);\n\t\t\t} else {\n\t\t\t\treject(GEOLOCATION_ERRORS['errors.location.unsupportedBrowser']);\n\t\t\t}\n\t\t});\n\t}\n\n\n\tpublic getLocation(geoLocationOptions?: any): Observable<GeolocationPosition | GeolocationPositionError> {\n\t\tgeoLocationOptions = geoLocationOptions || { timeout: 5000 };\n\n\t\treturn new Observable(observer => {\n\t\t\tif (this.geoEnabled()) {\n\t\t\t\twindow.navigator.geolocation.getCurrentPosition(\n\t\t\t\t\t(position: GeolocationPosition) => {\n\t\t\t\t\t\tobserver.next(position);\n\t\t\t\t\t\tobserver.complete();\n\t\t\t\t\t},\n\t\t\t\t\t(error: GeolocationPositionError) => {\n\t\t\t\t\t\tswitch (error.code) {\n\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\tobserver.error(GEOLOCATION_ERRORS['errors.location.permissionDenied']);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tobserver.error(GEOLOCATION_ERRORS['errors.location.positionUnavailable']);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\tobserver.error(GEOLOCATION_ERRORS['errors.location.timeout']);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tgeoLocationOptions);\n\t\t\t} else {\n\t\t\t\tobserver.error(GEOLOCATION_ERRORS['errors.location.unsupportedBrowser']);\n\t\t\t}\n\t\t});\n\t}\n}\n","/**\n * Copyright (c) 2019 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { Injectable } from '@angular/core';\n\n@Injectable(\n\t{\n\t\tprovidedIn: 'root'\n\t})\nexport class LoggingService {\n\n\tconstructor() { }\n\n\tpublic debug(label: string = \"Debug Log\", ...data: any[]): void {\n\t\tconsole.log(label, data);\n\t}\n\n\tpublic out(label: string = \">>\", data: any): void {\n\t\tthis.debug(label, data);\n\t}\n\n\tpublic error(...data: any[]) {\n\n\t}\n\n\tpublic serverError(...data: any[]) {\n\n\t}\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { Injectable }     from '@angular/core';\nimport { StorageService } from \"@core/services/storage.service\";\nimport { SocketEvents }   from \"@core/socket-events\";\nimport { NxEventService } from \"@nxApp/events/nx-event.service\";\nimport { CmLogger }       from \"@shared/logging/cm-logger\";\nimport { generateTag }    from \"@utils/tag-generator\";\nimport { Socket }         from 'ngx-socket-io';\nimport { of }             from \"rxjs\";\nimport { Observable }     from \"rxjs\";\nimport { Subject }        from \"rxjs\";\nimport { filter }         from \"rxjs/operators\";\nimport { DataTypeName }   from \"../../coldmind/utils/cm-type-caster\";\nimport { MsgType }        from \"../../shared/messages/message-types\";\nimport { IMessage }       from \"../../shared/messages/message-types\";\nimport { ApiFactory }     from \"@api/api-factory\";\nimport { LoggingService } from \"./logging.service\";\nimport { v4 as uuidv4 }   from 'uuid';\n\nexport interface ISocketMessage {\n\tdata: any;\n}\n\n@Injectable(\n\t{\n\t\tprovidedIn: 'root'\n\t})\nexport class SocketService {\n\tpublic prevMessage: IMessage = { type: -1000 };\n\tpublic uuid: string;\n\tpublic subject                          = new Subject<IMessage>();\n\tpublic dataStream: Observable<IMessage> = this.subject.asObservable();\n\n\tpublic cmStream: Observable<any>;\n\n\tpublic oberveMessage<T>(tag: string = null, ...msgTypes: number[]): Observable<T> {\n\t\ttag = !tag ? new Date().getMilliseconds().toString() : tag;\n\n\t\treturn this.subject.asObservable().pipe((msg: IMessage | any) => {\n\t\t\tlet msgType = Number.isInteger(msg.type) && msgTypes.indexOf(Number(msg.type)) > -1 ? msg : null;\n\t\t\treturn ( msgType && tag === ( msgType as any )?.tag ) ? msg : null;\n\t\t});\n\t}\n\n\thaveShownDriverData = false;\n\n\tconstructor(\n\t\tprivate nxEvents: NxEventService,\n\t\tprivate storageService: StorageService,\n\t\tprivate logger: LoggingService,\n\t\tprivate socket: Socket\n\t) {\n\t\tconst _funcName = 'SocketService::subscribe';\n\n\t\tthis.ensureUUID();\n\n\t\tthis.socket.on(\"disconnect\", () => {\n\t\t\talert(\"SOCKET DISCONNECT\");\n\t\t})\n\n\t\tthis.cmStream = new Observable(observer => {\n\t\t\tthis.socket.fromEvent(SocketEvents.Message).subscribe(\n\t\t\t\t(message: IMessage) => {\n\n\t\t\t\t\tif (message.type === MsgType.DriverUpdate && !this.haveShownDriverData) {\n\t\t\t\t\t\tconsole.log(\"NEW SOCKET MESSAGE :: DRIVET DATA ::\", message);\n\t\t\t\t\t\tthis.haveShownDriverData = true;\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif (message.type !== this.prevMessage.type) {\n\t\t\t\t\t\t\tthis.prevMessage = message;\n\t\t\t\t\t\t\tconsole.log(\"NEW SOCKET MESSAGE ::\", message);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.subject.next(message);\n\t\t\t\t\tobserver.next(message);\n\t\t\t\t},\n\t\t\t\t(error: any) => {\n\t\t\t\t\tthis.logger.error(_funcName, \"::\", error);\n\t\t\t\t})\n\t\t});\n\t}\n\n\tprivate async ensureUUID(): Promise<boolean> {\n\t\tif (!this.uuid) {\n\t\t\tlet storedId = await this.storageService.get(\"uuid\");\n\n\t\t\tthis.logger.debug(\"UUID FROM STORAGE DB ::\", storedId);\n\n\t\t\tif (!storedId) {\n\t\t\t\tstoredId = uuidv4();\n\t\t\t\tawait this.storageService.set(\"uuid\", storedId);\n\t\t\t}\n\n\t\t\tthis.uuid = storedId;\n\t\t}\n\n\t\tthis.logger.debug(\"**** STORED UUID: \", this.uuid);\n\n\t\treturn !( !this.uuid );\n\t}\n\n\tpublic getStream() {\n\t\treturn this.subject.asObservable();\n\t}\n\n\tpublic handleError<T>(operation = 'operation', result?: T) {\n\t\treturn (error: any): Observable<T> => {\n\t\t\tthis.logger.error(error);\n\t\t\tthis.logger.serverError('Error ::', error);\n\t\t\tthis.logger.error(`${ operation } failed: ${ error.message }`);\n\n\t\t\t// Let the app keep running by returning an empty result.\n\t\t\treturn of(result as T);\n\t\t};\n\t}\n\n\tpublic fake(type: MsgType, data: any) {\n\t\tthis.subject.next(\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tdata: data\n\t\t\t}\n\t\t);\n\t}\n\n\ttypedStream(type: number): Observable<IMessage> {\n\t\treturn this.cmStream.pipe(\n\t\t\tfilter((val: IMessage) => {\n\t\t\t\treturn val && val?.type == type;\n\t\t\t}),\n\t\t);\n\t}\n\n\ttypedStreamByTag(type: number, tag: string): Observable<IMessage> {\n\t\treturn this.cmStream.pipe(\n\t\t\tfilter((val: IMessage) => {\n\t\t\t\treturn (val && val?.type === type) && (tag === val?.tag);\n\t\t\t}),\n\t\t);\n\t}\n\n\n\tobserveMessage<T>(msg: number, tag?: string): Observable<T> {\n\t\treturn this.emitMessage<T>(msg, tag);\n\t}\n\n\temitMessage<T>(msg: number | IMessage, tag?: string): Observable<T> {\n\t\tlet msgType: number = Number.isInteger(msg) ? Number(msg) : ( msg as IMessage )?.type as number;\n\t\ttag = ( !tag ) ? generateTag() : tag;\n\n\t\treturn this.oberveMessage<T>(tag, msgType);\n\t}\n\n\tm2(msg: IMessage, tag?: string): Observable<IMessage> {\n\t\tthis.logger.out(\"m2 ::\", msg);\n\n\t\tmsg.uuid = this.uuid;\n\n\t\tif (tag) {\n\t\t\tmsg.tag = tag;\n\t\t}\n\t\telse {\n\t\t\tmsg.tag = ApiFactory.newTag();\n\t\t}\n\n\t\tconst filterStream = this.cmStream.pipe(\n\t\t\tfilter((value: any) => {\n\t\t\t\tthis.logger.out(\"FILLE ::: FILTER\", value);\n\n\t\t\t\treturn value.tag ? value.tag === msg.tag : true;\n\t\t\t})\n\t\t);\n\n\t\tthis.socket.emit(SocketEvents.Message, msg);\n\n\t\treturn filterStream;\n\t}\n\n\ttagMsg(msg: IMessage, tag?: string): Observable<IMessage> {\n\t\tmsg.uuid = this.uuid;\n\n\t\tif (tag) {\n\t\t\tmsg.tag = tag;\n\t\t}\n\t\telse {\n\t\t\tmsg.tag = ApiFactory.newTag();\n\t\t}\n\n\t\tthis.socket.emit(SocketEvents.Message, msg);\n\t\treturn this.typedStreamByTag(msg.type, msg.tag);\n\t}\n\n\tsendMessage(msg: IMessage, tag?: string): Observable<any> {\n\t\tmsg.uuid = this.uuid;\n\n\t\tif (tag) {\n\t\t\tmsg.tag = tag;\n\t\t}\n\t\telse {\n\t\t\tmsg.tag = ApiFactory.newTag();\n\t\t}\n\n\t\tthis.socket.emit(SocketEvents.Message, msg);\n\t\treturn this.typedStream(msg.type);\n\t}\n\n\tpublic getMessage(msgType: number): Observable<IMessage> {\n\t\treturn this.dataStream.pipe(\n\t\t\tfilter((value: IMessage) => {\n\t\t\t\treturn value.type == msgType;\n\t\t\t})\n\t\t);\n\t}\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { Injectable }    from '@angular/core';\nimport { StorageConfig } from \"@ionic/storage-angular\";\nimport { Storage }       from '@ionic/storage-angular';\nimport * as localforage  from \"localforage\";\n\n@Injectable(\n\t{\n\t\tprovidedIn: 'root'\n\t})\nexport class StorageService {\n\tconstructor(private storage: Storage) {\n\t\tthis.init();\n\t}\n\n\tasync init() {\n\t\t/*localforage.config({\n\t\t\t\t\t\t\t   name        : 'taxijaktdriver',\n\t\t\t\t\t\t\t   version     : 1.0,\n\t\t\t\t\t\t\t   storeName   : 'data'\n\t\t\t\t\t});*/\n\n\t\tlet config: StorageConfig = {\n\t\t\tname        : 'taxijaktdriver',\n\t\t\tversion     : 1.0,\n\t\t\tstoreName   : 'data'\n\t\t}\n\n\t\tthis.storage = await this.storage.create();\n\t\tawait this.storage.defineDriver(\"LocalStorage\");\n\t}\n\n\tpublic async set(key: string, value: any): Promise<any> {\n\t\tconsole.log(\"SET DATA ::\", key, value);\n\t\treturn await this.storage.set(key, value);\n\t}\n\n\tpublic get(key: string): Promise<any> {\n\t\treturn this.storage?.get(key);\n\t}\n\n\tpublic async getAs<T>(key: string): Promise<T> {\n\t\treturn await this.storage?.get(key) as T;\n\t}\n\n\tpublic async remove(key: string): Promise<boolean> {\n\t\treturn await this.storage?.remove(key);\n\t}\n\n\tpublic async clear(): Promise<void> {\n\t\treturn await this.storage?.clear();\n\t}\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TabsService {\n\n  constructor() { }\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nexport module SocketEvents {\n\texport const Message = \"message\";\n}\n","import { Injectable } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { filter } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HistoryHelperService {\n  previousUrl: string;\n\n  constructor(private router: Router) {\n    this.router.events\n    .pipe(\n      filter(event => event instanceof NavigationEnd)\n    )\n    .subscribe(({urlAfterRedirects}: NavigationEnd) => {\n      // console.log('previous URL', this.previousUrl);\n      this.previousUrl = urlAfterRedirects;\n      // console.log('NEW previous URL', this.previousUrl);\n    });\n  }\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { v4 as uuidv4 } from 'uuid';\n\nexport function generateTag(): string {\n\treturn uuidv4();\n}\n","import { isPlatformServer } from '@angular/common';\nimport { Inject, Injectable, PLATFORM_ID } from '@angular/core';\nimport { makeStateKey, TransferState } from '@angular/platform-browser';\nimport { Observable, of } from 'rxjs';\nimport { tap } from 'rxjs/operators';\n\nexport enum ImageShellState {\n  SSR = 'ssr-loaded',\n  BROWSER_FROM_SSR = 'browser-loaded-from-ssr',\n  NOT_FOUND = 'not-found'\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TransferStateHelper {\n\n  constructor(\n    @Inject(PLATFORM_ID) private platformId: object,\n    private state: TransferState,\n  ) { }\n\n  // Method with generic param\n  checkDataSourceState<T>(stateKey: string, dataSource: Observable<T>): Observable<T> {\n    const dataKey = makeStateKey<T>(stateKey);\n\n    if (isPlatformServer(this.platformId)) {\n      // When loading resource in the server, store the result in the TransferState\n      // to use when transitioning to the browser from the SSR rendered app\n      return dataSource.pipe(\n        tap(\n          (data: T) => {\n            this.state.set(dataKey, data);\n          }\n        )\n      );\n    } else {\n      // Check if we have data in the TransferState\n      if (this.state.hasKey(dataKey)) {\n        const stateData = this.state.get(dataKey, null);\n\n        if (stateData && stateData !== null) {\n          const cachedDataSource = of(stateData);\n\n          // After using it, remove data from state\n          // this.state.remove(dataKey);\n\n          // Set a flag to track if the dataSource is being cached in the server state or not\n          Object.assign(cachedDataSource, {ssr_state: true});\n\n          return cachedDataSource;\n        } else {\n          return dataSource;\n        }\n      } else {\n        return dataSource;\n      }\n    }\n  }\n\n  // This method checks if a specific image was previously handled in the server\n  checkImageShellState(stateKey: string, imageSource: string): ImageShellState {\n    let imageState: ImageShellState = ImageShellState.NOT_FOUND;\n\n    // Make sure we are not dealing with empty image sources\n    if (imageSource !== '') {\n      // We will store a collection of image sources in the state\n      const dataKey = makeStateKey<Array<string>>(stateKey);\n\n      if (isPlatformServer(this.platformId)) {\n        // When loading resource in the server, store the result in the TransferState\n        // to use when transitioning to the browser from the SSR rendered app\n\n        const stateImages = this.state.get(dataKey, []);\n        stateImages.push(imageSource);\n\n        this.state.set(dataKey, stateImages);\n\n        // Running in the server, in this execution the image is set in the transfer state for the first time\n        imageState = ImageShellState.SSR;\n      } else {\n        // Check if we have data in the TransferState\n        if (this.state.hasKey(dataKey)) {\n          const stateData = this.state.get(dataKey, []);\n\n          // Check if the image was previously loaded in the server\n          if (stateData.includes(imageSource)) {\n            imageState = ImageShellState.BROWSER_FROM_SSR;\n          }\n        }\n      }\n    }\n\n    return imageState;\n  }\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nexport module StorageKeys {\n\texport const DriverData = \"driverData\";\n}\n\nexport module NxAppSettings {\n\texport const HeartbeatInterval = 1;\n}\n\n\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nexport interface IAppSection {\n\ttitle?: string;\n\turl: string;\n\ticon?: string;\n}\n\nexport module NxAppPages {\n\texport module Driver {\n\t\texport const title = 'Driver Page';\n\t\texport const url   = '/app/start';\n\t\texport const icon  = 'list-outline';\n\t}\n\n\texport module TaxiShift {\n\t\texport const title = 'Taxi Shift';\n\t\texport const url   = '/app/shift';\n\t\texport const icon  = 'list-outline';\n\t}\n\n\texport module InternalError {\n\t\texport const title = \"Internal Error\"\n\t\texport const url = \"/internal-error\"\n\t}\n}\n\nexport const AppPages: IAppSection[] = [\n\t{\n\t\ttitle: 'Driver Start Page',\n\t\turl:   '/app/start',\n\t\ticon:  'list-outline'\n\t},\n\t{\n\t\ttitle: 'Profile',\n\t\turl:   '/app/user',\n\t\ticon:  'person-outline'\n\t},\n\t{\n\t\ttitle: 'Contact Card',\n\t\turl:   '/contact-card',\n\t\ticon:  './assets/custom-icons/side-menu/contact-card.svg'\n\t},\n\t{\n\t\ttitle: 'Notifications',\n\t\turl:   '/app/notifications',\n\t\ticon:  'notifications-outline'\n\t}\n];\n\nexport const AccountPages = [\n\t{\n\t\ttitle:     'Log In',\n\t\turl:       '/auth/login',\n\t\tionicIcon: 'log-in-outline'\n\t},\n\t{\n\t\ttitle:     'Sign Up',\n\t\turl:       '/auth/signup',\n\t\tionicIcon: 'person-add-outline'\n\t},\n\t{\n\t\ttitle:     'Tutorial',\n\t\turl:       '/messages',\n\t\tionicIcon: 'school-outline'\n\t},\n\t{\n\t\ttitle:     'Getting Started',\n\t\turl:       '/orders',\n\t\tionicIcon: 'rocket-outline'\n\t},\n\t{\n\t\ttitle:     '404 page',\n\t\turl:       '/page-internal-error',\n\t\tionicIcon: 'alert-circle-outline'\n\t}\n];\n\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nexport const logMess = console.log;\nexport const logErrorMess = console.log;\n\nexport class NxAppComponent {\n\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { CommonModule }            from \"@angular/common\";\nimport { CUSTOM_ELEMENTS_SCHEMA }  from \"@angular/core\";\nimport { NgModule }                from \"@angular/core\";\nimport { IonicModule }             from \"@ionic/angular\";\nimport { NxDriverStatusComponent } from \"@nxApp/components/nx-driver-status/nx-driver-status.component\";\nimport { NxHeaderComponent }       from \"@nxApp/components/nx-header/nx-header.component\";\nimport { NxModalsModule }          from \"../modals/nx-modals.module\";\n\n@NgModule(\n\t{\n\t\timports     : [\n\t\t\tCommonModule,\n\t\t\tIonicModule,\n\t\t\tNxModalsModule\n\t\t],\n\t\tdeclarations: [\n\t\t\tNxHeaderComponent,\n\t\t\tNxDriverStatusComponent\n\t\t],\n\t\texports: [\n\t\t\tNxDriverStatusComponent,\n\t\t\tNxHeaderComponent\n\t\t],\n\t\tschemas     : [\n\t\t\tCUSTOM_ELEMENTS_SCHEMA\n\t\t]\n\t})\nexport class NxComponentsModule { }\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { EventEmitter, Output } from \"@angular/core\";\nimport { Input }                from \"@angular/core\";\nimport { Component, OnInit }    from '@angular/core';\nimport { DriverStatusType }     from \"@shared/driver/driver-status\";\nimport { VarUtils }             from \"@shared/utils/var.utils\";\nimport { pipe }                 from \"rxjs\";\nimport { Subject }              from \"rxjs\";\nimport { ICmStatusCallback }    from \"../../../coldmind/components/cm-messenger-status/cm-status-callback\";\n\nexport interface IDriverStatusStorage {\n\n\tadd(statusType: DriverStatusType, strVal?: string): any;\n\n\t/**\n\t * You guessed it\n\t * @returns {boolean}\n\t */\n\thas(): boolean;\n\n\n\n\t/**\n\t * You guessed it\n\t * @returns {boolean}\n\t */\n\tisEmpty(): boolean;\n}\n\nexport class DriverStatusStorageBase extends Map<string, DriverStatusType> implements IDriverStatusStorage {\n\t/**\n\t * Add new Status type\n\t * @param {DriverStatusType} statusType\n\t * @param {string} strVal\n\t * @returns {any}\n\t */\n\tpublic set(statusType: DriverStatusType): string | any {\n\t\treturn this.add(DriverStatusType[statusType]);\n\t}\n\n\tpublic add(strVal: any): any {\n\t\tlet val2 = !VarUtils.isEmpty(strVal) ? strVal : DriverStatusType[DriverStatusType.Unset];\n\t\treturn DriverStatusType[this.setVal(val2)];\n\t}\n\n\tpublic setVal(strVal: string): string | any {\n\t\tlet statusType = DriverStatusType[strVal];\n\t\treturn this.set(statusType);\n\t}\n\n\tpublic has(strVal?: string): boolean {\n\t\treturn this.get(strVal) !== null;\n\t}\n\n\t/**\n\t * You guessed it\n\t * @returns {boolean}\n\t */\n\tpublic isEmpty(): boolean {\n\t\treturn this.size < 1;\n\t}\n}\n\nexport class DriverStatusStorage extends DriverStatusStorageBase implements IDriverStatusStorage {}\n\nexport enum NxButtonType {\n\tCustom,\n\tSetBusy,\n\tDropDown\n}\n\n@Component(\n\t{\n\t\tselector   : 'nx-driver-status',\n\t\ttemplateUrl: 'nx-driver-status.component.html',\n\t\tstyleUrls  : [ 'nx-driver-status.component.scss' ],\n\t})\nexport class NxDriverStatusComponent implements OnInit {\n\tpublic initEvent = new EventEmitter();\n\t/*\n\tpublic selector: string | any;\n\tpublic templateUrl: string | any;\n\tpublic styleUrls: string[] | any;\n*/\n\n\t@Input() public button: NxButtonType;\n\n\tprivate statusEventStream = new Subject<ICmStatusCallback | any>().pipe((event: ICmStatusCallback | any) => {\n\t\treturn event;\n\t});\n\n\t@Output() beforeStatusChange = this.statusEventStream.subscribe(\n\t\tpipe((event: ICmStatusCallback) => {\n\t\t\tlet doCancel = !event.cancel;\n\n\t\t\tif (!doCancel || !this.beforeStatusChange.closed) {\n\t\t\t\treturn event.type\n\t\t\t}\n\t\t})\n\t);\n\n\t// This sucker is triggered when a server confirmation have beem reveived\n\t@Output() statusDidChange = new EventEmitter<DriverStatusType>();\n\n\tngOnInit(): void {\n\t\tthis.initEvent.emit(this);\n\t}\n\n\ttriggerStatusChange(value?: DriverStatusType) {\n\t\tthis.statusDidChange.emit(value);\n\t}\n\n\tprotected _choosableStatuses?: DriverStatusStorage | any;\n\n\tpublic set buttonType(value: NxButtonType) {\n\t\tlet storage: DriverStatusStorage = this._choosableStatuses;\n\t\tif (value === NxButtonType.DropDown && ( !storage || storage?.isEmpty() )) {\n\n\t\t}\n\t\telse if (storage && !storage.isEmpty()) {\n\t\t\tthis.button = value;\n\n\t\t}\n\t}\n\n\tpublic set statuses(storage: any) {\n\t\tif (!storage) {\n\t\t\tstorage = new DriverStatusStorage();\n\t\t}\n\n\t\tthis._choosableStatuses = storage;\n\t}\n\n\tpublic get statuses()\n\t\t:\n\t\tDriverStatusStorage | any {\n\t\treturn this._choosableStatuses;\n\t}\n\n\tpublic onClick(): void {\n\n\t}\n}\n\n/*\nexport class NxDriverStatus implements Component {\n}\n\n\nexport class NxDriverStatus implements ComponentDecorator{\n\n\tpublic set statusButton(val: ButtonType) {\n\t\tthis.button = val;\n\t}\n\tpublic get statusButton(): ButtonType {\n\t\treturn this.button | ButtonType.SetBusy;\n\t}\n}\n */\n","<ion-button  (click)=\"onClick()\">Status</ion-button>\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { Input }               from \"@angular/core\";\nimport { Component }           from '@angular/core';\nimport { OnInit }              from '@angular/core';\nimport { NxEvent }             from \"@nxApp/events/nx-event-types\";\nimport { INxEvent }            from \"@nxApp/events/nx-event\";\nimport { NxEventService }      from \"@nxApp/events/nx-event.service\";\nimport { NxAppService }        from \"@nxApp/services/nx-app.service\";\nimport { IDriverResponseData } from \"@nxApp/types/update-response-data.type\";\n\n@Component(\n\t{\n\t\tselector   : 'nx-header',\n\t\ttemplateUrl: './nx-header.component.html',\n\t\tstyleUrls  : [ './nx-header.component.scss' ],\n\t})\nexport class NxHeaderComponent implements OnInit {\n\tpublic nxHeaderClass = \"std\";\n\tpublic title: string;\n\tprivate showWarning: boolean = false;\n\n\tpoints: number;\n\tmembership: string;\n\n\t@Input() driverActive: boolean = false;\n\t@Input() onlyLogo: boolean = false;\n\n\tconstructor(\n\t\tprivate nxEvents: NxEventService,\n\t\tprivate appService: NxAppService) {\n\n\t\tnxEvents.onNewEvent().subscribe((value: INxEvent) => {\n\t\t\tswitch (value.eventType) {\n\t\t\t\tcase NxEvent.DriverUpdate:\n\t\t\t\t\tlet driverData: IDriverResponseData = value.eventData;\n\n\t\t\t\t\tthis.points = driverData.info.points;\n\t\t\t\t\tthis.membership = driverData.info.mode.is_basic ? \"BASIC\" : \"PRO\";\n\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t}\n\n\tngOnInit() { }\n\n\tpublic hideWarning(value: boolean): boolean {\n\t\tthis.showWarning = false;\n\t\treturn true;\n\t}\n\n\tpublic warningVisible(): boolean {\n\t\treturn this.showWarning;\n\t}\n\n\tpublic showGpsWarning(): boolean {\n\t\tthis.showWarning = true;\n\n\t\treturn true;\n\t}\n}\n","<ion-header class=\"nx\" [class]=\"nxHeaderClass\">\n\t<ion-toolbar style=\"background: #ffffff;\" class=\"nx\">\n\t\t<ion-title>\n\t\t\t<img alt=\"logo\" style=\"display: block; margin: 0 auto;\" height=\"40\" src=\"/assets/nx-app/nx-app-logo.png\" >\n\t\t</ion-title>\n\t</ion-toolbar>\n\n\t<ion-toolbar *ngIf=\"!onlyLogo\" class=\"nx-sub\">\n\t\t<ion-buttons slot=\"start\">\n\t\t\t<ion-menu-button></ion-menu-button>\n\t\t</ion-buttons>\n\t\t<ion-title>\n\t\t\t{{ title }}\n\t\t</ion-title>\n\t\t<ion-chip slot=\"end\">\n\t\t\t<ion-icon name=\"trophy-outline\"></ion-icon>\n\t\t\t<ion-label><b>{{ points }}</b> Points</ion-label>\n\t\t</ion-chip>\n\t\t<ion-chip slot=\"end\">\n\t\t\t{{ membership }}\n\t\t</ion-chip>\n\t</ion-toolbar>\n\t<ion-toolbar *ngIf=\"warningVisible()\">\n\t\tGPS FAILURE\n\t</ion-toolbar>\n</ion-header>\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[appBoxshadow]'\n})\nexport class BoxshadowDirective {\n\n  constructor() { }\n\n}\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[appFunybutton]'\n})\nexport class FunybuttonDirective {\n\n  constructor() { }\n\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nexport enum NxEvent {\n\tLogin,\n\tSetBusy,\n\tGetSessionOrders,\n\tActiveOrders,\n\tShowModal,\n\tAppWideData,\n\tNewOrder,\n\tHeartbeat,\n\tSetStatus,\n\tDriverLogin,\n\tDriverData,\n\tDriverUpdate,\n\tOrders,\n\tSelectrCar\n}\n\nexport module NxEventTypes {\n\texport module Booking {\n\t\texport const NewBooking     = 100;\n\t\texport const AcceptBooking  = 101\n\t\texport const ShowBookingMap = 102\n\t}\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { Injectable }      from '@angular/core';\nimport { IEventReceiver }  from \"@core/event-receiver\";\nimport { LoggingService }  from \"@core/services/logging.service\";\nimport { SocketService }   from \"@core/services/socket.service\";\nimport { INxEvent }        from \"@nxApp/events/nx-event\";\nimport { Subject }         from \"rxjs\";\nimport { Observable }      from \"rxjs\";\nimport { filter }          from \"rxjs/operators\";\nimport { tap }             from \"rxjs/operators\";\nimport { IMessage }        from \"@shared/messages/message-types\";\nimport { INxBookingEvent } from \"./nx-booking.event\";\nimport { NxEventTypes }    from \"./nx-event-types\";\nimport { v4 as uuidv4 }    from 'uuid';\n\n@Injectable(\n\t{\n\t\tprovidedIn: 'root'\n\t})\nexport class NxEventService {\n\tprotected appEvent = new Subject<INxEvent>();\n\tpublic eventStream: Observable<INxEvent>;\n\tpublic listeners: Map<IEventReceiver, number[]>;\n\n\tconstructor(\n\t\tprivate logger: LoggingService,\n\t\tprivate socketService: SocketService\n\t) {\n\t\tthis.eventStream = this.appEvent.asObservable();\n\t\tthis.listeners = new Map<IEventReceiver, number[]>();\n\n\t\tthis.socketService.dataStream.subscribe(\n\t\t\tval => {\n\t\t\t\tthis.handleMessageEvent(val);\n\t\t\t}\n\t\t);\n\t}\n\n\tpublic registerEventListener(listener: IEventReceiver, ...types: number[]): void {\n\t\tthis.listeners.set(listener, types);\n\t}\n\n\tpublic unregisterEventListener(listener: IEventReceiver): boolean {\n\t\treturn this.listeners.delete(listener);\n\t}\n\n\tpublic handleMessageEvent(msg: IMessage): void {\n\t\t//\n\t\t// This shouold really be re-worked\n\t\t/*\n\t\t this.onEvent({\n\t\t eventType: msg.type,\n\t\t eventData: msg\n\t\t });\n\t\t */\n\t}\n\n\tpublic onNewEvent(...types: number[]): Observable<INxEvent> {\n\t\tconst _func = \"_EventService::onEvent\";\n\n\t\treturn this.eventStream.pipe(\n\t\t\ttap(\n\t\t\t\tval => {\n\t\t\t\t\t// console.log(\"NxEventService :: ON EVENT TAP :::\", val);\n\t\t\t\t}\n\t\t\t),\n\n\t\t\tfilter((val: INxEvent) => {\n\t\t\t\treturn types.length ? types.indexOf(val.eventType) > -1 : true\n\t\t\t}),\n\t\t);\n\t}\n\n\tpublic onEvent(...types: number[]): Observable<INxEvent> {\n\t\tconst _func = \"_EventService::onEvent\";\n\n\t\treturn this.eventStream.pipe(\n\t\t\ttap(\n\t\t\t\tval => {\n\t\t\t\t\t// console.log(\"NxEventService :: ON EVENT TAP :::\", val);\n\t\t\t\t}\n\t\t\t),\n\n\t\t\tfilter((val: INxEvent) => {\n\t\t\t\treturn types.length ? types.indexOf(val.eventType) > -1 : true\n\t\t\t}),\n\t\t);\n\t}\n\n\tpublic onEvent2(event?: INxEvent): void {\n\t\tconsole.log(\"NxEventService :: onEvent\");\n\n\t\tfor (let [ listener, events ] of this.listeners) {\n\t\t\tconsole.log(\"Listener ::\", listener.name);\n\t\t\tlet force = false;\n\n\t\t\tif (!events || events.length < 1) {\n\t\t\t\tforce = true;\n\t\t\t}\n\n\t\t\tlet trigger = events.length ? events.indexOf(event.eventType) > -1 : true;\n\t\t\ttrigger     = trigger || !event;\n\n\t\t\tif (trigger || force) {\n\t\t\t\tconsole.log(\"DO Trigger ::\", event.eventType);\n\t\t\t\tlistener.onEvent(event);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconsole.log(\"NxEventService :: this.listeners ::\", this.listeners);\n\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic pushNewEvent(type: number, data?: any, message?: string): string {\n\t\tlet event: INxEvent = {\n\t\t\teventType   : type,\n\t\t\teventMessage: message,\n\t\t\teventData   : data\n\t\t}\n\n\t\treturn this.pushEvent(event);\n\t}\n\n\tpublic pushEvent(event: INxEvent): string {\n\t\tevent.eventTag = uuidv4();\n\t\tthis.appEvent.next(event);\n\t\treturn event.eventTag;\n\t}\n\n\tpublic newBookingEvent(data: INxBookingEvent): string {\n\t\tlet serviceEvent: INxEvent = {\n\t\t\teventType: NxEventTypes.Booking.NewBooking,\n\t\t\teventData: data\n\t\t}\n\n\t\treturn this.pushEvent(serviceEvent);\n\t}\n\n\tpublic acceptBooking(data: INxBookingEvent): string {\n\t\tlet serviceEvent: INxEvent = {\n\t\t\teventType: NxEventTypes.Booking.AcceptBooking,\n\t\t\teventData: data\n\t\t}\n\n\t\treturn this.pushEvent(serviceEvent);\n\t}\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ModalController }   from \"@ionic/angular\";\nimport { NxEvent }           from \"@nxApp/events/nx-event-types\";\nimport { NxEventService }    from \"@nxApp/events/nx-event.service\";\nimport { DriverStatusType }  from \"@shared/driver/driver-status\";\n\n@Component({\n\t\t\t   selector   : 'app-driver-busy-modal',\n\t\t\t   templateUrl: './driver-busy-modal.component.html',\n\t\t\t   styleUrls  : [ './driver-busy-modal.component.scss' ],\n\t\t   })\nexport class DriverBusyModalComponent implements OnInit {\n\tminutes: number = 7;\n\tdistance: number;\n\tcountDownDate: number = new Date().getTime();\n\ttimerDisplay = \"\";\n\ttimer: any = null;\n\n\tconstructor(\n\t\tprivate nxEvents: NxEventService,\n\t\tprivate modalController: ModalController) {\n\t\tthis.addMinutes(this.countDownDate, this.minutes);\n\t\tnxEvents.pushNewEvent(NxEvent.SetBusy, this.minutes);\n\t\tthis.nxEvents.pushNewEvent(NxEvent.SetStatus, DriverStatusType.Busy);\n\t}\n\n\tprivate addMinutes(ms: number, minutes: number): void {\n\t\tlet tmpDate = new Date(ms + minutes*60000);\n\t\tthis.countDownDate = tmpDate.getTime();\n\t}\n\n\tpublic extendByMin(min: number): void {\n\t\tthis.addMinutes(this.countDownDate, min);\n\t}\n\n\tpublic countDown() {\n\t\t// Update the count down every 1 second\n\t\tthis.timer = setInterval(() => {\n\t\t\tlet now = new Date().getTime();\n\n\t\t\tthis.distance = this.countDownDate - now;\n\n\t\t\tlet minutes = (this.distance / 1000)  / 60;\n\t\t\tlet seconds = ((this.distance / 1000) % 60);\n\n\t\t\tlet minFormatted = Math.round(minutes).toFixed();\n\t\t\tlet secFormatted = Math.round(seconds).toFixed();\n\n\t\t\t// Display the result in the element with id=\"demo\"\n\t\t\tthis.timerDisplay = `${minFormatted}:${secFormatted}`;\n\n\t\t\t// If the count down is finished, write some text\n\t\t\tif (this.distance < 0) {\n\t\t\t\tclearInterval(this.timer);\n\t\t\t\tthis.timerDisplay = \"Times up...\"\n\t\t\t}\n\t\t}, 1000);\n\t}\n\n\tngOnInit() {\n\t\tthis.countDown();\n\t}\n\n\tpublic setAvailable() {\n\t\tthis.nxEvents.pushNewEvent(NxEvent.SetStatus, DriverStatusType.Available);\n\t\tthis.dismiss();\n\t}\n\n\tpublic dismiss(data?: any) {\n\t\tthis.modalController.dismiss(\n\t\t\t{ data: data }).then(() => {\n\t\t});\n\t}\n}\n","<ion-card class=\"card\">\n  <ion-header>\n    <h3>You are busy</h3>\n  </ion-header>\n\n  <ion-card-content>\n    <div>\n      <h1>\n      {{ timerDisplay }}\n      </h1>\n    </div>\n\n    <div style=\"margin-top: 2em\">\n      <ion-button (click)=\"extendByMin(7)\" class=\"social-auth-btn facebook-auth-btn\" expand=\"block\" color=\"facebook\">\n        Add 7 minutes\n      </ion-button>\n    </div>\n\n    <div style=\"margin-top: 2em\">\n      <ion-button (click)=\"extendByMin(14)\" class=\"social-auth-btn facebook-auth-btn\" expand=\"block\" color=\"twitter\">\n        Add 14 minutes\n      </ion-button>\n    </div>\n\n    <div style=\"margin-top: 2em\">\n      <ion-button (click)=\"extendByMin(28)\" class=\"social-auth-btn facebook-auth-btn\" expand=\"block\" color=\"purple\">\n        Add 28 minutes\n      </ion-button>\n    </div>\n\n    <div style=\"margin-top: 4em\">\n      <ion-button (click)=\"setAvailable()\" class=\"social-auth-btn facebook-auth-btn\" expand=\"block\" color=\"success\">\n        Available\n      </ion-button>\n    </div>\n\n  </ion-card-content>\n</ion-card>\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { ViewChild }              from \"@angular/core\";\nimport { AfterViewInit }          from \"@angular/core\";\nimport { Input }                  from \"@angular/core\";\nimport { Component, OnInit }      from '@angular/core';\nimport { GoogleMapComponent }     from \"@components/google-map/google-map.component\";\nimport { SocketService }          from \"@core/services/socket.service\";\nimport { AlertController }        from \"@ionic/angular\";\nimport { LoadingController }      from \"@ionic/angular\";\nimport { ModalController }        from \"@ionic/angular\";\nimport { DriverApiService }       from \"@api/driver-api.service\";\nimport { OrderApiService }        from \"@api/order-api.service\";\nimport { NxAppManagerService }    from \"@nxApp/nx-app-manager.service\";\nimport { IBooking }               from \"@nxApp/services/booking/booking-entry.type\";\nimport { IBookingEntry }          from \"@nxApp/services/booking/booking-entry.type\";\nimport { DriverService }          from \"@nxApp/services/driver/driver.service\";\nimport { IOrderCompleteResponse } from \"@shared/types/order-complete-response\";\nimport { IMessage }               from \"@shared/messages/message-types\";\nimport { MsgType }                from \"../../../shared/messages/message-types\";\nimport { ModalDataType }          from \"../modal-data.type\";\n\n@Component(\n\t{\n\t\tselector   : 'app-new-order-modal',\n\t\ttemplateUrl: './new-order-modal.component.html',\n\t\tstyleUrls  : [ './new-order-modal.component.scss' ],\n\t})\nexport class NewOrderModalComponent implements OnInit, AfterViewInit {\n\t@Input() data2: ModalDataType;\n\n\theader: string;\n\tdata: IBooking;\n\tcustomerInCar: boolean = false;\n\tisActive: boolean;\n\n\torderId: string;\n\torderCompleted: IOrderCompleteResponse = null;\n\n\tconstructor(\n\t\tprivate loadingController: LoadingController,\n\t\tprivate socketService: SocketService,\n\t\tprivate modalController: ModalController,\n\t\tprivate orderApi: OrderApiService,\n\t\tprivate driverApi: DriverApiService,\n\t\tprivate driverService: DriverService,\n\t\tprivate appManagerService: NxAppManagerService,\n\t\tprivate alertController: AlertController\n\t) {\n\t\tif (this.data?.orderData?.id) {\n\t\t\tappManagerService.muteOrder(this.data.orderData.id);\n\t\t\tdriverService.orderActive = true;\n\t\t}\n\t}\n\n\t@ViewChild(GoogleMapComponent, { static: false }) _GoogleMap: GoogleMapComponent;\n\tmap: google.maps.Map;\n\n\tmapOptions: google.maps.MapOptions = {\n\t\tzoom  : 15,\n\t\tcenter: { lat: -34.9199842, lng: -56.149849 }\n\t\t// uncomment the following line if you want to remove the default Map controls\n\t\t// disableDefaultUI: true\n\t};\n\tloadingElement: any;\n\n\tngOnInit() {\n\t\tthis.isActive      = this.data.active;\n\t\tthis.orderId       = this.data.orderData.id;\n\t\tthis.customerInCar = this.data.orderData.customer_in_car;\n\n\t\tconsole.log(\"Data received in ModalDataaType :::\", this.data2);\n\t\tconsole.log(\"Data received :: header :::\", this.header);\n\t\tconsole.log(\"Data received :: ModalDataaType :::\", this.data);\n\t}\n\n\tngAfterViewInit() {\n\t\t// GoogleMapComponent should be available\n\t\tthis._GoogleMap.$mapReady.subscribe(map => {\n\t\t\tthis.map = map;\n\t\t\tconsole.log('ngAfterViewInit - Google map ready');\n\t\t});\n\t\tthis.createLoader();\n\t}\n\n\tasync createLoader(text: string = \"Loading...\") {\n\t\tthis.loadingElement = await this.loadingController.create(\n\t\t\t{\n\t\t\t\tmessage: text\n\t\t\t});\n\t}\n\n\tasync presentLoader() {\n\t\tawait this.loadingElement.present();\n\t}\n\n\tasync dismissLoader() {\n\t\tif (this.loadingElement) {\n\t\t\tawait this.loadingElement.dismiss();\n\t\t}\n\t}\n\n\tpublic geolocateMe(): void {\n\t\t/*this.presentLoader();\n\t\t Geolocation.getCurrentPosition().then(position => {\n\n\t\t const current_location = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n\t\t this.map.panTo(current_location);\n\n\t\t // add a marker\n\t\t const marker = new google.maps.Marker({\n\t\t position: current_location,\n\t\t title   : 'You are here!',\n\t\t // animation: google.maps.Animation.DROP\n\t\t });\n\n\t\t // To add the marker to the map, call setMap();\n\t\t marker.setMap(this.map);\n\n\t\t }).catch((error) => {\n\t\t console.log('Error getting current location', error);\n\n\t\t }).finally(() => this.dismissLoader());\n\t\t */\n\t}\n\n\tpublic test() {\n\t\tlet testObj = {\n\t\t\t\"type\": 9,\n\t\t\t\"uuid\": \"d011a979-60ca-446d-bcf3-10a1a2e136d4\",\n\t\t\t\"data\": {\n\t\t\t\t\"success\": true,\n\t\t\t\t\"data\"   : {\n\t\t\t\t\t\"order\": {\n\t\t\t\t\t\t\"id\"                                    : \"2172751\",\n\t\t\t\t\t\t\"created\"                               : \"2022-05-10 14:31:56\",\n\t\t\t\t\t\t\"dispatch_time\"                         : \"2022-05-10 14:31:56\",\n\t\t\t\t\t\t\"cancelled\"                             : null,\n\t\t\t\t\t\t\"confirmed\"                             : \"2022-05-10 14:32:20\",\n\t\t\t\t\t\t\"finished\"                              : null,\n\t\t\t\t\t\t\"pickup_time\"                           : \"2022-05-10 14:31:56\",\n\t\t\t\t\t\t\"estimated_pickup_time\"                 : null,\n\t\t\t\t\t\t\"taxi_at_from_address\"                  : null,\n\t\t\t\t\t\t\"taxi_at_from_address_min_distance\"     : null,\n\t\t\t\t\t\t\"taxi_at_from_address_min_distance_time\": null,\n\t\t\t\t\t\t\"taxi_at_to_address\"                    : null,\n\t\t\t\t\t\t\"taxi_at_to_address_min_distance\"       : null,\n\t\t\t\t\t\t\"taxi_at_to_address_min_distance_time\"  : null,\n\t\t\t\t\t\t\"from_address\"                          : \"Gltzauuddens Badplats, Repslagargatan, Lule\",\n\t\t\t\t\t\t\"from_zipcode\"                          : \"97239\",\n\t\t\t\t\t\t\"from_name\"                             : \"Gltzauuddens Badplats, Repslagargatan\",\n\t\t\t\t\t\t\"from_formatted\"                        : \"Gltzauuddens Badplats, Repslagargatan, Lule\",\n\t\t\t\t\t\t\"from_area\"                             : \"Lule C\",\n\t\t\t\t\t\t\"from_lat\"                              : \"65.587352\",\n\t\t\t\t\t\t\"from_lng\"                              : \"22.125006\",\n\t\t\t\t\t\t\"from_is_establishment\"                 : \"1\",\n\t\t\t\t\t\t\"to_address\"                            : \"Norrbottensteatern, Lule\",\n\t\t\t\t\t\t\"to_zipcode\"                            : \"97239\",\n\t\t\t\t\t\t\"to_name\"                               : \"Norrbottensteatern\",\n\t\t\t\t\t\t\"to_formatted\"                          : \"Norrbottensteatern, Lule\",\n\t\t\t\t\t\t\"to_area\"                               : \"Lule C\",\n\t\t\t\t\t\t\"to_lat\"                                : \"65.58500599999999\",\n\t\t\t\t\t\t\"to_lng\"                                : \"22.142910999999998\",\n\t\t\t\t\t\t\"via_addresses\"                         : null,\n\t\t\t\t\t\t\"via_positions\"                         : null,\n\t\t\t\t\t\t\"route\"                                 : \"[{\\\"address\\\":\\\"G\\\\u00fcltzauuddens Badplats\\\",\\\"lat\\\":\\\"65.587352\\\",\\\"lng\\\":\\\"22.125006\\\",\\\"city\\\":\\\"Lule\\\\u00e5\\\"},{\\\"address\\\":\\\"Norrbottensteatern\\\",\\\"lat\\\":\\\"65.58500599999999\\\",\\\"lng\\\":\\\"22.142910999999998\\\",\\\"city\\\":\\\"Lule\\\\u00e5\\\"}]\",\n\t\t\t\t\t\t\"distance\"                              : \"825\",\n\t\t\t\t\t\t\"duration\"                              : \"186\",\n\t\t\t\t\t\t\"currency\"                              : \"SEK\",\n\t\t\t\t\t\t\"price\"                                 : \"128\",\n\t\t\t\t\t\t\"price_net\"                             : \"120.75\",\n\t\t\t\t\t\t\"price_vat\"                             : \"7.25\",\n\t\t\t\t\t\t\"taxameter_price\"                       : null,\n\t\t\t\t\t\t\"prepaid\"                               : null,\n\t\t\t\t\t\t\"prepaid_voucher\"                       : null,\n\t\t\t\t\t\t\"prepaid_reduction\"                     : null,\n\t\t\t\t\t\t\"prepaid_card\"                          : null,\n\t\t\t\t\t\t\"prepaid_card_net\"                      : null,\n\t\t\t\t\t\t\"prepaid_card_vat\"                      : null,\n\t\t\t\t\t\t\"prepaid_invoice\"                       : null,\n\t\t\t\t\t\t\"prepaid_vat\"                           : null,\n\t\t\t\t\t\t\"flight_no\"                             : null,\n\t\t\t\t\t\t\"wave_session_id\"                       : \"13477953\",\n\t\t\t\t\t\t\"customer_id\"                           : null,\n\t\t\t\t\t\t\"customer_name\"                         : \"qwdqwd yu\",\n\t\t\t\t\t\t\"customer_phone\"                        : \"+46708633007\",\n\t\t\t\t\t\t\"customer_email\"                        : \"dsfg@oij.se\",\n\t\t\t\t\t\t\"customer_lat\"                          : \"59.3438896\",\n\t\t\t\t\t\t\"customer_lng\"                          : \"18.0531736\",\n\t\t\t\t\t\t\"target_driver_id\"                      : null,\n\t\t\t\t\t\t\"driver_id\"                             : \"2673\",\n\t\t\t\t\t\t\"driver_company\"                        : \"test\",\n\t\t\t\t\t\t\"driver_car_registration_number\"        : \"TAXI01\",\n\t\t\t\t\t\t\"driver_name\"                           : \"Kierowca\",\n\t\t\t\t\t\t\"driver_phone\"                          : \"+48888777657\",\n\t\t\t\t\t\t\"driver_email\"                          : null,\n\t\t\t\t\t\t\"driver_popup_message\"                  : \"Ny krning!\\n\\nFrn: Gltzauuddens Badplats, Repslagargatan, Lule\\n\\nTill: Norrbottensteatern, Lule\\n\\nStrcka: 0.8 km\\n\\nFast pris: 128 kr\\n\\nKunden: qwdqwd yu | +46708633007\",\n\t\t\t\t\t\t\"ip_address\"                            : \"35.156.42.228\",\n\t\t\t\t\t\t\"user_agent\"                            : \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:100.0) Gecko/20100101 Firefox/100.0\",\n\t\t\t\t\t\t\"http_referer\"                          : \"http://dev.taxijakt.se/\",\n\t\t\t\t\t\t\"order_page_url\"                        : \"http://dev.taxijakt.se/\",\n\t\t\t\t\t\t\"customer_did_not_show_up\"              : null,\n\t\t\t\t\t\t\"driver_did_not_show_up\"                : null,\n\t\t\t\t\t\t\"admin_notified\"                        : null,\n\t\t\t\t\t\t\"admin_confirmed\"                       : null,\n\t\t\t\t\t\t\"handled_by_admin\"                      : null,\n\t\t\t\t\t\t\"admin_user_id\"                         : null,\n\t\t\t\t\t\t\"super_admin_notified\"                  : null,\n\t\t\t\t\t\t\"test\"                                  : \"0\",\n\t\t\t\t\t\t\"validated\"                             : \"1\",\n\t\t\t\t\t\t\"suspect\"                               : \"0\",\n\t\t\t\t\t\t\"resent\"                                : null,\n\t\t\t\t\t\t\"resent_by_customer\"                    : null,\n\t\t\t\t\t\t\"resent_by_customer_wait\"               : null,\n\t\t\t\t\t\t\"target_taxi_company_id\"                : null,\n\t\t\t\t\t\t\"taxi_company_id\"                       : null,\n\t\t\t\t\t\t\"jackpot\"                               : null,\n\t\t\t\t\t\t\"carrier_id\"                            : \"1787\",\n\t\t\t\t\t\t\"carrier_name\"                          : \"Test\",\n\t\t\t\t\t\t\"invoice_id\"                            : null,\n\t\t\t\t\t\t\"carrier_fee\"                           : null,\n\t\t\t\t\t\t\"carrier_compensation\"                  : null,\n\t\t\t\t\t\t\"delivery_type\"                         : \"PASSENGER\",\n\t\t\t\t\t\t\"urgent\"                                : null,\n\t\t\t\t\t\t\"urgent_distance\"                       : null,\n\t\t\t\t\t\t\"duplicate_of_order_id\"                 : null,\n\t\t\t\t\t\t\"app_version\"                           : \"4.19\",\n\t\t\t\t\t\t\"mode\"                                  : null,\n\t\t\t\t\t\t\"country_code\"                          : \"SE\",\n\t\t\t\t\t\t\"locale\"                                : \"en\",\n\t\t\t\t\t\t\"admin_id\"                              : null,\n\t\t\t\t\t\t\"closed\"                                : null,\n\t\t\t\t\t\t\"company_id\"                            : null,\n\t\t\t\t\t\t\"device_id\"                             : null,\n\t\t\t\t\t\t\"number_of_passengers\"                  : null,\n\t\t\t\t\t\t\"number_of_luggages\"                    : null,\n\t\t\t\t\t\t\"ref\"                                   : null,\n\t\t\t\t\t\t\"accept_sms_id\"                         : null,\n\t\t\t\t\t\t\"baby_seats\"                            : null,\n\t\t\t\t\t\t\"child_seats\"                           : null,\n\t\t\t\t\t\t\"booster_seats\"                         : null,\n\t\t\t\t\t\t\"animals_in_cage\"                       : null,\n\t\t\t\t\t\t\"animals_without_cage\"                  : null,\n\t\t\t\t\t\t\"combi\"                                 : null,\n\t\t\t\t\t\t\"left_to_pay\"                           : null,\n\t\t\t\t\t\t\"payica_transaction_id\"                 : null,\n\t\t\t\t\t\t\"payica_card_id\"                        : null,\n\t\t\t\t\t\t\"secret\"                                : \"8C7079\",\n\t\t\t\t\t\t\"domain\"                                : \"dev.taxijakt.se\",\n\t\t\t\t\t\t\"signup_min_points\"                     : \"0\",\n\t\t\t\t\t\t\"points\"                                : \"73.6\",\n\t\t\t\t\t\t\"dialed_phone\"                          : null,\n\t\t\t\t\t\t\"partner_id\"                            : null,\n\t\t\t\t\t\t\"partner_reference_no\"                  : null,\n\t\t\t\t\t\t\"query_id\"                              : \"76593\",\n\t\t\t\t\t\t\"message_to_driver\"                     : null,\n\t\t\t\t\t\t\"admin_note_id\"                         : null,\n\t\t\t\t\t\t\"accept_id\"                             : null,\n\t\t\t\t\t\t\"success_id\"                            : null,\n\t\t\t\t\t\t\"taxi_company_customer_id\"              : null,\n\t\t\t\t\t\t\"taxi_company_customer_no\"              : null,\n\t\t\t\t\t\t\"allow_forwarding\"                      : null,\n\t\t\t\t\t\t\"vehicle_id\"                            : \"12630\",\n\t\t\t\t\t\t\"rate_sms_id\"                           : null,\n\t\t\t\t\t\t\"status\"                                : null,\n\t\t\t\t\t\t\"is_phone_order\"                        : \"0\",\n\t\t\t\t\t\t\"customer_in_car\"                       : null,\n\t\t\t\t\t\t\"should_be_watched\"                     : \"1\",\n\t\t\t\t\t\t\"is_cancelled\"                          : \"0\",\n\t\t\t\t\t\t\"is_confirmed\"                          : \"1\",\n\t\t\t\t\t\t\"is_finished\"                           : \"0\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"headers\": {\n\t\t\t\t\t\"date\"                            : \"Tue, 10 May 2022 12:32:21 GMT\",\n\t\t\t\t\t\"content-type\"                    : \"text/html; charset=UTF-8\",\n\t\t\t\t\t\"content-length\"                  : \"1486\",\n\t\t\t\t\t\"connection\"                      : \"keep-alive\",\n\t\t\t\t\t\"server\"                          : \"Apache/2.4.37 (Unix) OpenSSL/1.1.0j\",\n\t\t\t\t\t\"x-powered-by\"                    : \"PHP/7.1.23\",\n\t\t\t\t\t\"access-control-allow-origin\"     : \"https://dev.taxijakt.se\",\n\t\t\t\t\t\"access-control-allow-credentials\": \"true\",\n\t\t\t\t\t\"access-control-allow-headers\"    : \"Authorization,Content-Type,Accept,Accept-Language,Origin,User-Agent,DNT,Cache-Control,X-Mx-ReqToken,Keep-Alive,X-Requested-With,If-Modified-Since\",\n\t\t\t\t\t\"access-control-allow-methods\"    : \"PUT, GET, POST, DELETE, OPTIONS\",\n\t\t\t\t\t\"vary\"                            : \"Accept-Encoding,Origin\",\n\t\t\t\t\t\"cache-control\"                   : \"max-age=0, no-store\"\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"tag\" : \"9378d721-5b0f-4efc-8274-3c44751c0369\"\n\t\t}\n\n\t\tthis.socketService.fake(MsgType.AcceptOrder, testObj);\n\n\t}\n\n\tpublic accept(): void {\n\t\tthis.orderApi.acceptOrder(this.data.orderData.id).subscribe(\n\t\t\tval => {\n\t\t\t\tconsole.log(\"ORDER API :::\", val);\n\t\t\t}\n\t\t);\n\n\t\tthis.isActive = true;\n\n\t\t/*toPromise().then(res => {\n\t\t console.log(\"ACCEPT ORDER RESULT ::\", res);\n\t\t }).catch(err => {\n\t\t console.log(\"ACCEPT ORDER ERR ::\", err);\n\t\t });*/\n//\t\tthis.dismiss();\n\t}\n\n\tpublic setCustomerInCar() {\n\t\tthis.data.orderData.customer_in_car = true;\n\t\tthis.customerInCar                  = true;\n\t}\n\n\tasync doFinishRide() {\n\t\tawait this.createLoader(\"Finishing ride...\");\n\t\tawait this.presentLoader();\n\n\t\tawait this.orderApi.completeOrder(this.orderId).subscribe(\n\t\t\t(msg: IMessage) => {\n\t\t\t\tlet response: IOrderCompleteResponse = msg.data;\n\n\t\t\t\tif (response && response.status === \"OK\") {\n\t\t\t\t\tthis.dismissLoader();\n\t\t\t\t\tthis.orderCompleted = response;\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tpublic finishRide() {\n\t\tthis.alertController.create(\n\t\t\t{\n\t\t\t\theader   : 'Confirm Alert',\n\t\t\t\tsubHeader: 'Beware lets confirm',\n\t\t\t\tmessage  : 'Are you sure? you want to leave without safty mask?',\n\t\t\t\tbuttons  : [\n\t\t\t\t\t{\n\t\t\t\t\t\ttext   : 'Yes',\n\t\t\t\t\t\thandler: () => {\n\t\t\t\t\t\t\tthis.doFinishRide();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttext   : 'No',\n\t\t\t\t\t\thandler: () => {\n\t\t\t\t\t\t\tconsole.log('Let me think');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}).then(res => {\n\t\t\tres.present();\n\t\t});\n\t}\n\n\tpublic async deny(): Promise<void> {\n\t\talert(\"ORDER ID #\" + this.data.orderData.id);\n\n\t\tawait this.createLoader(\"Processing...\");\n\t\tawait this.presentLoader();\n\n\t\tthis.orderApi.denyOrder(this.data.orderData.id).subscribe(\n\t\t\t(msg: IMessage) => {\n\t\t\t\tthis.dismissLoader();\n\t\t\t\tthis.dismiss();\n\t\t\t}\n\t\t);\n\t}\n\n\tpublic dismiss(data?: any) {\n\t\tdata = !data ? this.data : data;\n\t\tthis.modalController.dismiss(\n\t\t\t{data: data }).then(() => {\n\t\t\tthis.driverService.orderActive = false;\n\t\t});\n\t}\n}\n","<ion-content *ngIf=\"orderCompleted !== null\">\n\t<ion-card>\n\t\t<h3>Order #{{ this.orderCompleted.order.id }} completed</h3>\n\n\t\t<div>\n\n\n\t\t</div>\n\n\t\t{{ this.orderCompleted.summary?.commission }}\n\t\t{{ this.orderCompleted.summary?.currency }}\n\n\t\t<ion-button (click)=\"dismiss()\" type=\"button\" class=\"social-auth-btn facebook-auth-btn\" expand=\"block\" color=\"facebook\">\n\t\t\tOK\n\t\t</ion-button>\n\t</ion-card>\n</ion-content>\n\n<ion-content *ngIf=\"isActive && !orderCompleted\" style=\"height: 100%\">\n\n\t<ion-card>\n\t\t<h3>{{ data.orderData.id }}</h3>\n\t\t<ion-card-header>\n\t\t\tCustomer {{ data.orderData.customer_phone }}\n\t\t</ion-card-header>\n\n\t\t<ion-card-content>\n\t\t\t<div>\n\t\t\t\tFrn: {{ this.data.orderData.from_formatted }}\n\t\t\t</div>\n\n\t\t\t<div style=\"margin-top: 2em\">\n\t\t\t\tTill: {{ this.data.orderData.to_formatted }}\n\t\t\t</div>\n\n\t\t</ion-card-content>\n\n\t\t<app-google-map [mapOptions]=\"mapOptions\"></app-google-map>\n\n\t\t<ion-card *ngIf=\"customerInCar\">\n\t\t\t<div>\n\t\t\t\t<b>{{ this.data.orderData.customer_name }}</b>\n\n\t\t\t</div>\n\n\t\t</ion-card>\n\n\t\t<div>\n\t\t\t<ion-label></ion-label>\n\n\t\t\t<div *ngIf=\"!customerInCar\">\n\t\t\t\t<ion-button (click)=\"setCustomerInCar()\" type=\"button\" class=\"social-auth-btn facebook-auth-btn\"\n\t\t\t\t\t\t\texpand=\"block\" color=\"facebook\">\n\t\t\t\t\tCustomer is in the car\n\t\t\t\t</ion-button>\n\t\t\t</div>\n\n\t\t\t<div style=\"margin-top: 2em\">\n\t\t\t\t<ion-button (click)=\"finishRide()\" class=\"social-auth-btn facebook-auth-btn\"\n\t\t\t\t\t\t\texpand=\"block\" color=\"twitter\">\n\t\t\t\t\tFinish ride\n\t\t\t\t</ion-button>\n\t\t\t</div>\n\n\t\t</div>\n\n\t</ion-card>\n</ion-content>\n\n<ion-content *ngIf=\"!isActive\" style=\"height: 100%\">\n\n\t<ion-card>\n\t\t<h3>Order: {{ this.data.orderData.id }}</h3>\n\n\t\t<div>\n\t\t\tFrn: {{ this.data.orderData.from_formatted }}\n\t\t</div>\n\n\t\t<div>\n\t\t\tTill: {{ this.data.orderData.to_formatted }}\n\t\t</div>\n\n\t\t<div>\n\t\t\t<ion-label></ion-label>\n\n\t\t\t<div *ngIf=\"!customerInCar\">\n\t\t\t\t<ion-button (click)=\"accept()\" type=\"button\" class=\"social-auth-btn facebook-auth-btn\" expand=\"block\"\n\t\t\t\t\t\t\tcolor=\"facebook\">\n\t\t\t\t\tAccept\n\t\t\t\t</ion-button>\n\t\t\t</div>\n\n\t\t\t<div style=\"margin-top: 2em\">\n\t\t\t\t<ion-button (click)=\"deny()\" class=\"social-auth-btn facebook-auth-btn\" expand=\"block\" color=\"danger\">\n\t\t\t\t\tDeny\n\t\t\t\t</ion-button>\n\t\t\t</div>\n\n\t\t</div>\n\n\t</ion-card>\n\n</ion-content>\n","import { CommonModule }             from \"@angular/common\";\nimport { CUSTOM_ELEMENTS_SCHEMA }   from \"@angular/core\";\nimport { NgModule }                 from \"@angular/core\";\nimport { IonicModule }              from \"@ionic/angular\";\nimport { DriverBusyModalComponent } from \"@nxApp/modals/driver-busy-modal/driver-busy-modal.component\";\nimport { SelectCarModalComponent }  from \"@nxApp/modals/select-car-modal/select-car-modal.component\";\nimport { ComponentsModule }         from \"@components/components.module\";\nimport { NewOrderModalComponent }   from \"./new-order-modal/new-order-modal.component\";\n\n@NgModule(\n\t{\n\t\timports     : [\n\t\t\tCommonModule,\n\t\t\tIonicModule,\n\t\t\tComponentsModule,\n\t\t],\n\t\tdeclarations: [\n\t\t\tNewOrderModalComponent,\n\t\t\tSelectCarModalComponent,\n\t\t\tDriverBusyModalComponent\n\t\t],\n\t\tproviders   : [],\n\t\tschemas     : [ CUSTOM_ELEMENTS_SCHEMA ]\n\t})\nexport class NxModalsModule {\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { Component, OnInit } from '@angular/core';\nimport { DriverApiService }  from \"@api/driver-api.service\";\nimport { SocketService }     from \"@core/services/socket.service\";\nimport { StorageService }    from \"@core/services/storage.service\";\nimport { ModalController }   from \"@ionic/angular\";\nimport { NxEventService }    from \"@nxApp/events/nx-event.service\";\nimport { NxEvent }           from \"@nxApp/events/nx-event-types\";\nimport { DriverService }     from \"@nxApp/services/driver/driver.service\";\nimport { DriverCarOptions }  from \"@shared/driver/driver-car-options\";\nimport { EventEmitter }      from \"events\";\nimport { IMessage }          from \"@shared/messages/message-types\";\nimport { IDriverCar }        from \"@shared/types/car.type\";\n\n@Component(\n\t{\n\t\tselector   : 'app-select-car-modal',\n\t\ttemplateUrl: './select-car-modal.component.html',\n\t\tstyleUrls  : [ './select-car-modal.component.scss' ],\n\t})\nexport class SelectCarModalComponent implements OnInit {\n\tprivate _optionsModel = new DriverCarOptions();\n\n\tprivate onSelectCar = new EventEmitter<DriverCarOptions>();\n\n\tpublic uuid: string = \"\";\n\tpublic carSelected: boolean = false;\n\tpublic currentCar: IDriverCar | any;\n\n\tpublic carModel: DriverCarOptions = null;\n\n\tprivate _cars: IDriverCar[];\n\n\tpublic get cars(): IDriverCar[] {\n\t\treturn this._cars;\n\t}\n\n\tpublic set cars(value: IDriverCar[]) {\n\t\tthis._cars = value;\n\t\tif (value.length === 1) {\n\t\t\tthis.selectCar(value[0]);\n\t\t}\n\t}\n\n\ttest1: string;\n\n\tconstructor(\n\t\tprivate modalController: ModalController,\n\t\tprivate driverService: DriverService,\n\t\tprivate apiService: DriverApiService,\n\t\tprivate storage: StorageService,\n\t\tprivate nxEvents: NxEventService,\n\t\tprivate socketService: SocketService\n\t) {\n\t\tthis.uuid = socketService.uuid;\n\n\t\tthis.onSelectCar.on(NxEvent.SelectrCar, (car: DriverCarOptions) => {\n\t\t\tconsole.log(\"!SELECT CAR! :: \", car);\n\t\t\treturn this.carModel;\n\t\t});\n\t}\n\n\tpublic async saveCar()  {\n\t\tthis.apiService.setCurrentCar(this.carModel).subscribe(\n\t\t\t(value: IMessage) => {\n\t\t\t}\n\t\t);\n\n\t\tthis.onSelectCar.emit(NxEvent.SelectrCar, this.carModel);\n\t\tthis.nxEvents.pushNewEvent(NxEvent.SelectrCar, this.carModel);\n\n\t\tthis.dismiss();\n\n\n/*\t\tif (!result) {\n\t\t\talert(\"Kunde inte spara bil med id: \" + this.carModel.carId);\n\t\t} else {\n\t\t\tthis.onSelectCar.emit(NxEvent.SelectrCar, this.carModel);\n\t\t\tthis.nxEvents.pushNewEvent(NxEvent.SelectrCar, this.carModel);\n\t\t}\n\n\t\treturn result\n\n */\n\t}\n\n\tpublic optionsFn() {\n\t\tconsole.log(\"BALLE ::\", this.test1);\n\t}\n\n\tpublic getCars() {\n\t\tconsole.log(\"****************** ON INIT SELECT CAR ::\");\n\n\t\tthis.apiService.getDriverCars().subscribe(\n\t\t\t(val: IMessage) => {\n\t\t\t\tconsole.log(\"DRIVER CARS :::\", val);\n\n\t\t\t\tif (val.data) {\n\t\t\t\t\tthis.cars = val.data;\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\tpublic selectCar(car: IDriverCar): void {\n\t\tthis.currentCar = car;\n\t\tthis.carSelected = (car !== undefined);\n\n\t\tthis.carModel = new DriverCarOptions().fromObj(car);\n\t\tthis.carModel.driverCarData = car;\n\n\t\tconsole.log(\"carModel ::\", this.carModel);\n\t}\n\n\tpublic dismiss() {\n\t\tthis.modalController.dismiss();\n\t}\n\n\t/**\n\t * Get at list of cars\n\t */\n\tngOnInit() {\n\t\tthis.getCars();\n\t}\n}\n","\n\n<div class=\"inner-content\">\n\t<ion-card *ngIf=\"!currentCar\">\n\t\t<ion-card-header>\n\t\t\t<ion-label>Vlj bil</ion-label>\n\t\t</ion-card-header>\n\n\t\t<ion-list no-lines *ngFor=\"let car of cars\">\n\t\t\t<ion-item lines=\"none\" (click)=\"selectCar(car)\">\n\t\t\t\t<div class=\"car-plate\">\n\t\t\t\t\t<div class=\"codepen-wrapper\">\n\t\t\t\t\t\t<span class=\"registration-ui\">{{ car.registration_number }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</ion-item>\n\n\n\t\t</ion-list>\n\t</ion-card>\n\n\t<ion-card *ngIf=\"carModel !== null\">\n\t\t<ion-card-header>\n\t\t\t<ion-label>Vlj bil</ion-label>\n\t\t</ion-card-header>\n\n\t\t<ion-list>\n\t\t\t<ion-item>\n\t\t\t\t<ion-label>Baby seats (backward facing)</ion-label>\n\n\t\t\t\t<ion-select [(ngModel)]=\"carModel.babySeats\">\n\t\t\t\t\t<ion-select-option value=\"0\">0</ion-select-option>\n\t\t\t\t\t<ion-select-option value=\"1\">1</ion-select-option>\n\t\t\t\t\t<ion-select-option value=\"2\">2</ion-select-option>\n\t\t\t\t</ion-select>\n\t\t\t</ion-item>\n\n\t\t\t<ion-item>\n\t\t\t\t<ion-label>Child seats (forward facing)</ion-label>\n\t\t\t\t<ion-select value=\"brown\" okText=\"OK\" cancelText=\"Cancel\" [(ngModel)]=\"carModel.childSeats\">\n\t\t\t\t\t<ion-select-option value=\"0\">0</ion-select-option>\n\t\t\t\t\t<ion-select-option value=\"1\">1</ion-select-option>\n\t\t\t\t\t<ion-select-option value=\"2\">2</ion-select-option>\n\t\t\t\t</ion-select>\n\t\t\t</ion-item>\n\n\t\t\t<ion-item>\n\t\t\t\t<ion-label>Booster seats</ion-label>\n\t\t\t\t<ion-select value=\"0\" okText=\"OK\" cancelText=\"Cancel\" [(ngModel)]=\"carModel.boosterSeats\">\n\t\t\t\t\t<ion-select-option value=\"0\">0</ion-select-option>\n\t\t\t\t\t<ion-select-option value=\"1\">1</ion-select-option>\n\t\t\t\t\t<ion-select-option value=\"2\">2</ion-select-option>\n\t\t\t\t</ion-select>\n\t\t\t</ion-item>\n\n\t\t\t<ion-item>\n\t\t\t\t<ion-label>Car with Shield</ion-label>\n\t\t\t\t<ion-checkbox slot=\"end\" color=\"primary\" [checked]=\"carModel.hasShield\"  [(ngModel)]=\"carModel.hasShield\"></ion-checkbox>\n\t\t\t</ion-item>\n\n\n\t\t\t<ion-item>\n\t\t\t\t<ion-label>Animals in Cage</ion-label>\n\t\t\t\t<ion-checkbox slot=\"end\" [(ngModel)]=\"carModel.animalsInCage\"></ion-checkbox>\n\t\t\t</ion-item>\n\n\t\t\t<ion-item>\n\t\t\t\t<ion-label>Animals without Cage</ion-label>\n\t\t\t\t<ion-checkbox slot=\"end\" [(ngModel)]=\"carModel.animalsWhitoutCaghe\"></ion-checkbox>\n\t\t\t</ion-item>\n\t\t</ion-list>\n\n\t\t<ion-button class=\"submit-btn\" (click)=\"saveCar()\" expand=\"block\" color=\"facebook\" type=\"submit\" fill=\"solid\">UPDATE</ion-button>\n\n\t</ion-card>\n</div>\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { Injectable }          from \"@angular/core\";\nimport { SocketService }       from \"@core/services/socket.service\";\nimport { INxEvent }            from \"@nxApp/events/nx-event\";\nimport { NxEvent }             from \"@nxApp/events/nx-event-types\";\nimport { NxEventService }      from \"@nxApp/events/nx-event.service\";\nimport { IBooking }            from \"@nxApp/services/booking/booking-entry.type\";\nimport { IBookingEntry }       from \"@nxApp/services/booking/booking-entry.type\";\nimport { IDriverResponseData } from \"@nxApp/types/update-response-data.type\";\nimport { DriverCarOptions }    from \"@shared/driver/driver-car-options\";\nimport { DriverStatus }        from \"@shared/driver/driver-status\";\nimport { IMessage }            from \"@shared/messages/message-types\";\nimport { DriverModel }         from \"@shared/models/driver.model\";\nimport { IDriverCar }          from \"@shared/types/car.type\";\nimport { Subject }             from \"rxjs\";\nimport { DriverStatusType }    from \"../shared/driver/driver-status\";\nimport { MsgType }             from \"../shared/messages/message-types\";\nimport { ITJWebDriver }        from \"./types/api-login-response.type\";\n\nexport enum UpdateType {\n\tNotSet,\n\tDriver,\n\tOrders,\n\tStatus\n}\n\nexport interface IDataModelUpdate {\n\ttype: UpdateType,\n\tdata: any;\n}\n\n@Injectable(\n\t{\n\t\tprovidedIn: \"root\"\n\t}\n)\nexport class NxAppManagerService {\n\tprivate prevData: string = \"\";\n\tisLoggedIn: boolean      = false;\n\tpublic haveActiveOrder   = false;\n\tdriverStatus             = new DriverStatus();\n\n\tpublic selectedCar: DriverCarOptions = null;\n\tpublic selectedCarData: IDriverCar   = null;\n\n\tbookings = new Array<IBookingEntry>();\n\n\tdata: IDriverResponseData = null;\n\n\tprivate dataUpdated = new Subject<any>();\n\tprivate newOrder    = new Subject<IBooking>();\n\n\tpublic OnDataUpdate = this.dataUpdated.asObservable();\n\tpublic OnNewOrder   = this.newOrder.asObservable();\n\n\tpublic messages        = Array<any>();\n\tpublic marketOrders    = Array<IBookingEntry>();\n\tpublic availableOrders = Array<IBookingEntry>();\n\n\tprivate mutedOrderIds = new Array<string>();\n\n\tconstructor(\n\t\tprivate socket: SocketService,\n\t\tprivate nxEvents: NxEventService\n\t) {\n\t\tsocket.dataStream.subscribe((msg: IMessage) => {\n\t\t\tif (msg.type === MsgType.DriverUpdate && msg.data !== null) {\n\t\t\t\tthis.handleResponseUpdate(msg.data);\n\t\t\t}\n\t\t});\n\n\t\tnxEvents.onNewEvent().subscribe((value: INxEvent) => {\n\t\t\tswitch (value.eventType) {\n\t\t\t\tcase NxEvent.SelectrCar:\n\t\t\t\t\tthis.nxEvents.pushNewEvent(NxEvent.GetSessionOrders);\n\t\t\t\t\tthis.nxEvents.pushNewEvent(NxEvent.SetStatus, DriverStatusType.Available);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase NxEvent.ActiveOrders:\n\t\t\t\t\tlet activeOrders: IBookingEntry[] = value.eventData?.orders;\n\t\t\t\t\tif (Array.isArray(activeOrders) && activeOrders.length > 0) {\n\t\t\t\t\t\tthis.newOrder.next({\n\t\t\t\t\t\t\t\t\t\t\t   active   : true,\n\t\t\t\t\t\t\t\t\t\t\t   orderData: activeOrders[ 0 ]\n\t\t\t\t\t\t\t\t\t\t   });\n\t\t\t\t\t\tconsole.log(\"****** ORDERS :::\", value.eventData?.orders);\n\t\t\t\t\t\tthis.haveActiveOrder = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t}\n\n\tpublic muteOrder(orderId: string): void {\n\t\tif (this.mutedOrderIds.indexOf(orderId) === -1) {\n\t\t\tthis.mutedOrderIds.push(orderId);\n\t\t}\n\t}\n\n\tfirstEvent = true;\n\n\tprivate handleResponseUpdate(data: IDriverResponseData): void {\n\t\tconst dataStr = JSON.stringify(data);\n\n\t\tif (dataStr !== this.prevData) {\n\t\t\tthis.prevData = dataStr;\n\t\t\tconsole.log(\"****** DRIVER UPDATE ::::\", data);\n\t\t}\n\n\t\tthis.nxEvents.pushNewEvent(NxEvent.DriverUpdate, data);\n\n\t\tif (this.firstEvent) {\n\t\t\tthis.firstEvent = false;\n\t\t}\n\n\t\tthis.data = JSON.parse(\n\t\t\tJSON.stringify(data)\n\t\t);\n\n\t\tif (Array.isArray(data.messages)) {\n\t\t\tthis.messages = data.messages;\n\t\t}\n\n\t\tif (Array.isArray(data.orders)) {\n\t\t\tthis.marketOrders = data.orders;\n\t\t}\n\n\t\tthis.handleAvailOrders(data.availOrders);\n\n\t\t/*\n\n\t\t this.driver         = data.driverEntry;\n\t\t this.driverInfo     = data.info;\n\t\t this.driverData     = data.driverEntry.data;\n\t\t this.fullDriverData = data.driverEntry.data.data;\n\t\t */\n\n\t\tif (this.data !== null) {\n\t\t\tthis.doDataChange(UpdateType.Driver, this.data);\n\t\t}\n\t}\n\n\tpublic async handleAvailOrders(orders: Array<IBookingEntry>) {\n\t\tif (!orders || !Array.isArray(orders) || orders.length < 1) return;\n\n\t\tfor (let order of orders) {\n\t\t\tif (this.mutedOrderIds.indexOf(order.id) === -1) {\n\t\t\t\tthis.newOrder.next({\n\t\t\t\t\t\t\t\t\t   active   : false,\n\t\t\t\t\t\t\t\t\t   orderData: order\n\t\t\t\t\t\t\t\t   });\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate doDataChange(updateType: UpdateType, data: any): void {\n\t\tlet event: IDataModelUpdate = {\n\t\t\ttype: updateType,\n\t\t\tdata: data\n\t\t};\n\n\t\tthis.dataUpdated.next(event);\n\t}\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\n/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { CommonModule }            from \"@angular/common\";\nimport { CUSTOM_ELEMENTS_SCHEMA }  from \"@angular/core\";\nimport { NgModule }                from \"@angular/core\";\nimport { IonicModule }             from \"@ionic/angular\";\nimport { BoxshadowDirective }      from './directives/boxshadow.directive';\nimport { FunybuttonDirective }     from './directives/funybutton.directive';\nimport { NxModalsModule }          from \"./modals/nx-modals.module\";\n\n\n@NgModule(\n\t{\n\t\timports     : [\n\t\t\tCommonModule,\n\t\t\tIonicModule,\n\t\t\tNxModalsModule\n\t\t],\n\t\tdeclarations: [\n\t\t\tBoxshadowDirective,\n\t\t\tFunybuttonDirective,\n\t\t],\n\t\texports     : [\n\t\t],\n\t\tschemas     : [\n\t\t\tCUSTOM_ELEMENTS_SCHEMA\n\t\t]\n\t})\nexport class NxAppModule { }\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { Injectable }        from '@angular/core';\nimport { ActivatedRoute }    from \"@angular/router\";\nimport { NavigationExtras }  from \"@angular/router\";\nimport { Router }            from \"@angular/router\";\nimport { StorageService }    from \"@core/services/storage.service\";\nimport { NavController }     from \"@ionic/angular\";\nimport { NavigationOptions } from \"@ionic/angular/providers/nav-controller\";\nimport { NxAppPages }        from \"../app.paths\";\n\n@Injectable(\n\t{\n\t\tprovidedIn: 'root'\n\t})\nexport class AppNavService {\n\n\tconstructor(\n\t\tpublic navController: NavController,\n\t\tpublic router: Router,\n\t\tpublic storage: StorageService) {\n\t}\n\n\tpublic async internalError(errorData?: any): Promise<void> {\n\t\tthis.router.navigate([NxAppPages.InternalError, errorData]);\n\t}\n\n\tpublic async navigateRoot(path: string, options?: NavigationOptions): Promise<boolean> {\n\t\treturn await this.navController.navigateRoot([path], options);\n\t}\n\n\tpublic async navigateWithData(path: string, data: any): Promise<boolean> {\n\t\tlet navigationExtras: NavigationExtras = {\n\t\t\tqueryParams: {\n\t\t\t\tnavData: JSON.stringify(data)\n\t\t\t}\n\t\t};\n\n\t\tthis.storage.set(\"fromLogin\", true);\n\n\t\treturn await this.router.navigate([path], navigationExtras);\n\t}\n\n\tpublic getNavData(route: ActivatedRoute): Promise<any> {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\troute.queryParams.subscribe(params => {\n\t\t\t\tif (params && params.navData) {\n\t\t\t\t\tresolve(JSON.parse(params.navData));\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { Injectable }            from '@angular/core';\nimport { IMessage }              from \"@core/messages/message-types\";\nimport { ApiClientService }      from \"@core/services/api-client.service\";\nimport { GeoService }            from \"@core/services/geo.service\";\nimport { LoggingService }        from \"@core/services/logging.service\";\nimport { SocketService }         from \"@core/services/socket.service\";\nimport { StorageService }        from \"@core/services/storage.service\";\nimport { StorageKeys }           from \"@nxApp/app.const\";\nimport { IBookingEntry }         from \"@nxApp/services/booking/booking-entry.type\";\nimport { INxAppService }         from \"@nxApp/services/nx-app.service\";\nimport { IApiLoginRes }          from \"@nxApp/types/api-login-response.type\";\nimport { ITJWebDriver }          from \"@nxApp/types/api-login-response.type\";\nimport { Subject }               from \"rxjs\";\nimport { MsgType }               from \"@shared/messages/message-types\";\nimport { DriverApiService }      from \"@api/driver-api.service\";\nimport { NxEvent }               from \"@nxApp/events/nx-event-types\";\nimport { INxEvent }              from \"@nxApp/events/nx-event\";\nimport { NxEventService }        from \"@nxApp/events/nx-event.service\";\nimport { DriverModeType }        from \"./driver-mode\";\n\n@Injectable(\n\t{\n\t\tprovidedIn: 'root'\n\t}\n)\nexport class DriverService implements INxAppService {\n\tdriverMode = new Subject<DriverModeType>();\n\n\tisLoggedIn: boolean = false;\n\tdriverId: number;\n\tdriverData: ITJWebDriver;\n\tsession: string;\n\tcardsIdent: string;\n\torderActive: boolean = false;\n\tbookings = new Map<string, IBookingEntry>();\n\n\tfirstUpdate = true;\n\n\tconstructor(\n\t\tprivate logger: LoggingService,\n\t\tprivate storage: StorageService,\n\t\tprivate apiService: ApiClientService,\n\t\tprivate nxEvents: NxEventService,\n\t\tprivate socketService: SocketService,\n\t\tprivate driverApiService: DriverApiService,\n\t\tprivate geoService: GeoService\n\t) {\n\t\t/*\n\t\tsocketService.dataStream.subscribe(\n\t\t\t(mess: IMessage | any) => {\n\t\t\t\tif (mess.type === MsgType.DriverUpdate) {\n\t\t\t\t\tlet rawJson = JsonConverter.toString<string>(mess.data);\n\t\t\t\t\tlet driverUpdateData = JsonConverter.toType<IDriverUpdateResponse>(rawJson);\n\n\t\t\t\t\t//console.log(\"DDDDRIVER UPDATE ::::\", mess);\n\n\t\t\t\t\tlet driverData: ITJWebDriver;\n\n\t\t\t\t\tif ((mess.data && !mess.data?.data) || (!mess.data)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdriverData = mess.data.data;\n\n\t\t\t\t\t\tif (!driverData.id) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.firstUpdate) {\n\n\t\t\t\t\t\tconsole.log(\"driverService :: driverData ::\", driverData);\n\n\t\t\t\t\t\tlet appEventData = {\n\t\t\t\t\t\t\tdriver: {\n\t\t\t\t\t\t\t\tid: driverData.id,\n\t\t\t\t\t\t\t\tstatus: driverData.status,\n\t\t\t\t\t\t\t\tpoints: driverData.points,\n\t\t\t\t\t\t\t\tlikes: driverData.likes,\n\t\t\t\t\t\t\t\tdislikes: driverData.dislikes,\n\t\t\t\t\t\t\t\tfullData: driverData,\n\t\t\t\t\t\t}}\n\n\t\t\t\t\t\tnxEvents.pushNewEvent(NxEvent.AppWideData, appEventData);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t\t*/\n\t\tnxEvents.eventStream.subscribe(\n\t\t\t(value: INxEvent) => {\n\t\t\t\tif (value.eventType === NxEvent.DriverLogin) {\n\t\t\t\t\tconsole.log(\"STORAGE :: SOCKET MESS ::\", value.eventData);\n\t\t\t\t}\n\n\t\t\t\tif (value.eventType !== MsgType.DriverUpdate) {\n\t\t\t\t\t//console.log(\"DriverService :: NxEvent ::\", value);\n\t\t\t\t}\n\n\t\t\t\tthis.handleEvent(value);\n\t\t\t}\n\t\t);\n\t}\n\n\tpublic async setDriverBusy(): Promise<void> {\n\t}\n\n\tpublic async pushDriverDataEvent(data: ITJWebDriver): Promise<void> {\n\t\tthis.nxEvents.pushNewEvent(NxEvent.DriverData, data);\n\t}\n\n\tpublic async triggerStoredData(): Promise<void> {\n\t\tlet data = await this.storage.getAs<ITJWebDriver>(StorageKeys.DriverData);\n\n\t\tif (!data) {\n\t\t\tconsole.log(\"DRIVER SERVICE ::: data MISSING\", data )\n\t\t} else {\n\t\t\tthis.pushDriverDataEvent(data);\n\t\t}\n\t}\n\n\t/**\n\t * Driver auth functionality\n\t * @param {IApiLoginRes} data\n\t * @returns {Promise<void>}\n\t */\n\tpublic async driverLogin(data?: IApiLoginRes) {\n\t\tif (data && data.driver && data.driver.id) {\n\t\t\tawait this.storage.set(StorageKeys.DriverData, data.driver);\n\t\t\tlet driverId = data.driver.id;\n\n\t\t\tconsole.log(\"driverService :: openDriverStart ::\", data);\n\n\t\t\tthis.driverData = data.driver;\n\t\t\tthis.driverId   = data.driver.id;\n\t\t\tthis.session    = data.web_session;\n\t\t\tthis.cardsIdent = data.cards_identifier;\n\n\t\t\tthis.isLoggedIn = true;\n\n\t\t\tthis.pushDriverDataEvent(data.driver);\n\t\t}\n\t}\n\n\tpublic logOut() {\n\t\tthis.isLoggedIn = false;\n\t\tthis.driverData = null;\n\t\tthis.driverId   = null;\n\t\tthis.session    = null;\n\t\tthis.cardsIdent = null;\n\t}\n\n\tpublic getDriverStatus(driverId: number) {\n\t\tthis.driverApiService.getDriverStatus(driverId).subscribe(\n\t\t\tvalue => {\n\t\t\t\tconsole.log(\"SUBSCRIBED VALUE ::\", value);\n\t\t\t}\n\t\t);\n\n\t\tthis.nxEvents.pushNewEvent(NxEvent.ShowModal);\n\t}\n\n\t/**\n\t * Push event to open new order modal\n\t * @param {IBookingEntry} entry\n\t */\n\tprivate newOrder(entry: IBookingEntry): void {\n\t\tthis.nxEvents.pushEvent(\n\t\t\t{\n\t\t\t\teventType: NxEvent.NewOrder,\n\t\t\t\teventData: entry\n\t\t\t}\n\t\t);\n\t}\n\n\tprivate storeOrders(orders: Array<IBookingEntry>): void {\n\t\tfor (let order of orders) {\n\t\t\tif (!this.bookings.get(order.id)) {\n\t\t\t\tthis.bookings.set(order.id, order);\n\t\t\t\tthis.newOrder(order);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic handleEvent(event: INxEvent) {\n\t\tif (!this.isLoggedIn) return;\n\n\t\tswitch (event.eventType) {\n\t\t\tcase NxEvent.DriverLogin:\n\t\t\t\tconsole.log(\"DRIVER LOGIN ***\", event);\n\t\t\t\tbreak;\n\n\t\t\tcase NxEvent.DriverUpdate:\n\t\t\t\tif (event.eventData.availOrders) {\n\t\t\t\t\t// console.log(\"DriverService :: NxEvent.DriverUpdate ::\", event.eventData.availOrders)\n\n\t\t\t\t\tlet orders: Array<IBookingEntry> = event.eventData.availOrders;\n\t\t\t\t\tthis.storeOrders(orders);\n\n\t\t\t\t\tfor (let order of orders) {\n\t\t\t\t\t\t//console.log(order.driver_popup_message)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase NxEvent.Heartbeat:\n\t\t\t\tthis.geoService.getPosition().then(res => {\n\n\t\t\t\t\tlet data = {\n\t\t\t\t\t\tlat     : res.coords.latitude,\n\t\t\t\t\t\tlon     : res.coords.longitude,\n\t\t\t\t\t\taccuracy: res.coords.accuracy\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.socketService.sendMessage(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: MsgType.DriverUpdate,\n\t\t\t\t\t\t\tdata: data\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tconsole.error(\"geoService.getPosition ::\", err);\n\t\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Read back driver data stored upon login\n\t * @returns {Promise<boolean>}\n\t */\n\tprivate async restoreDriverData(): Promise<boolean> {\n\t\tlet result = true;\n\n\t\ttry {\n\t\t\tthis.driverData = await this.storage.get(StorageKeys.DriverData);\n\t\t\tif (!this.driverData || !this.driverData.id\n\t\t\t) {\n\t\t\t\tresult = false;\n\t\t\t}\n\t\t}\n\t\tcatch\n\t\t\t(e) {\n\t\t\tthis.logger.error(\"restoreDriverData ::\", e);\n\t\t\tresult = false;\n\t\t}\n\n\t\treturn result;\n\t}\n\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n *\n * @Desc:\n * Main logic for the TaxiJakt Application, its mostly here\n * all the weird PHP stuff that originates from the current solution\n * is handled, muted and felt sorry for,,,\n *\n */\nimport { Injectable }     from '@angular/core';\nimport { IEventReceiver } from \"@core/event-receiver\";\nimport { NxEvent }        from \"@nxApp/events/nx-event-types\";\nimport { INxEvent }       from \"@nxApp/events/nx-event\";\nimport { NxEventService } from \"@nxApp/events/nx-event.service\";\nimport { ITJWebDriver }   from \"@nxApp/types/api-login-response.type\";\n\nexport interface INxAppService {\n}\n\n@Injectable(\n\t{\n\t\tprovidedIn: 'root'\n\t})\nexport class NxAppService implements INxAppService, IEventReceiver {\n\tpublic name: string = \"NxAppService\";\n\ttickCount: number = 0;\n\theartMonitor: any;\n\n\tdriverData: ITJWebDriver;\n\n\tconstructor(\n\t\tprivate nxEvents: NxEventService\n\t) {\n\t\tnxEvents.registerEventListener(this);\n\n\t\tthis.heartMonitor = setInterval(() => {\n\t\t\tthis.heartBeat();\n\t\t}, 6000);\n\t}\n\n\tpublic onEvent(event: INxEvent) {\n\t\tswitch (event.eventType) {\n\t\t\tcase NxEvent.DriverLogin:\n\t\t\t\tconsole.log(\"DRIVER LOGIN EVNT ::\", event.eventData);\n\t\t\t\tthis.driverData = event.eventData;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\n\tpublic gpsError(error?: any): void {\n\n\t}\n\n\tpublic heartBeat(): void {\n\t\tthis.tickCount++;\n\t\tthis.nxEvents.pushEvent({ eventType: NxEvent.Heartbeat });\n\t}\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nexport enum DriverStatusType {\n\tUnset          = \"ROCKING_THE_WORLD\",\n\tAvailable      = \"AVAILABLE\",\n\tLoggedIn       = \"LOGGED IN\",\n\tBusy            = \"BUSY\",\n\tSoonAvailable  = \"SOON_AVAILABLE\",\n\tHasCustomer    = \"HAS_CUSTOMER\",\n\tNotLoggedIn    = \"NO_SESSION_SET\",\n\tNoSessionFound = \"NO_SESSION_FOUND_ERROR\",\n}\n\nexport class DriverStatus {\n\tprivate _prevStatus: DriverStatusType;\n\tprivate _status: DriverStatusType;\n\n\tpublic get prevStatus(): DriverStatusType {\n\t\treturn this._prevStatus;\n\t}\n\n\tpublic get status(): DriverStatusType {\n\t\treturn this._status;\n\t}\n\n\tpublic set status(newType: DriverStatusType) {\n\t\tif (newType === (DriverStatusType.Unset\n\t\t\t\t\t\t || DriverStatusType.NoSessionFound\n\t\t\t)) {\n\t\t\tthrow new Error(`Ststus \"${DriverStatusType[newType]}\" can not be manually set.`);\n\t\t}\n\n\n\t\tthis._prevStatus = this.status;\n\t\tthis._status = newType;\n\t}\n\n\tconstructor(statusType?: DriverStatusType) {\n\t\tif (statusType) {\n\t\t\tthis.status = statusType;\n\t\t}\n\t}\n\n\n\tpublic loggedIn(): boolean {\n\t\treturn this.status !== (DriverStatusType.NotLoggedIn || DriverStatusType.NoSessionFound || DriverStatusType.Unset);\n\t}\n\n\tpublic static parseFromStr(str: string): DriverStatus {\n\t\tlet aType : DriverStatusType = DriverStatusType[str];\n\t\treturn new DriverStatus(aType); //JsonConverter.toType<DriverStatusType>(str);\n\t}\n}\n\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nexport enum MsgType {\n\tPing                 = 222000,\n\tPong                 = 100001,\n\n\tGetDriverUpdate      = -40,\n\tDebugBooking         = -30,\n\tShowDebug            = -20,\n\tError                = -10,\n\tConnect              = 0,\n\tDisconnect           = 1,\n\tDriverLogin          = 2,\n\tDriverLogOut         = 3,\n\tDriverGetInfo        = 4,\n\tDriverUpdate         = 5,\n\tGetDriverOrder       = 6,\n\tGetOrdersBySession   = 7,\n\tGetMessagesBySession = 8,\n\tAcceptOrder          = 9,\n\tDenyOrder            = 10,\n\tCompleteOrder        = 11,\n\tCustomerNoShow       = 12,\n\tCantCompleteOrder    = 13,\n\tGetCars              = 14,\n\tSetCurrentCar        = 15,\n\tNeedReauthentication = 16,\n\tLoggedOut            = 17,\n\tGetRawData      = 544\n}\n\nexport interface IBaseMessage {\n\ttype: number,\n}\n\nexport interface IMessage extends IBaseMessage{\n\tuuid?: string;\n\ttag?: string;\n\tdata?: any;\n\terrorMessage?: string;\n\ttimestamp?: number;\n}\n\nexport interface IUserMessage extends IBaseMessage, IMessage {\n\tuid?: number;\n}\n\nexport class Message implements IBaseMessage {\n\tpublic type: number;\n\n\tpublic static ofType(value: number, msg: IMessage): boolean {\n\t\treturn value === (msg?.type ? msg.type : \"\");\n\t}\n}\n\n//////////////////////////////////////////////////\n//\n// Api Messages\n//\n\nexport enum ApiAttributeType {\n\tError       = 'error',\n\tMessage     = 'information',\n\tInformation = 'information'\n}\n\nexport interface IApiEntity {\n\tname?: string\n}\n\nexport interface IApiAttribute extends IApiEntity {\n\ttype: ApiAttributeType | string,\n\tcode?: number,\n\ttext?: string\n}\n\nexport interface IApiResponse {\n\tsuccess: boolean,\n\terror?: Error | any,\n\theaders?: any,\n\tdata?: any | IApiAttribute[]\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { IonicModule }           from '@ionic/angular';\nimport { NgModule }              from '@angular/core';\nimport { CommonModule }          from '@angular/common';\nimport { FormsModule }           from '@angular/forms';\nimport { TabsPageRoutingModule } from './tabs.router.module';\nimport { TabsPage }              from './tabs.page';\n\n@NgModule(\n\t{\n\t\timports     : [\n\t\t\tIonicModule,\n\t\t\tCommonModule,\n\t\t\tFormsModule,\n\t\t\tTabsPageRoutingModule\n\t\t],\n\t\texports     : [\n\t\t\tTabsPage\n\t\t],\n\t\tdeclarations: [ TabsPage ]\n\t})\nexport class TabsPageModule {\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { Component }           from '@angular/core';\nimport { MenuController }      from '@ionic/angular';\nimport { NxAppManagerService } from \"@nxApp/nx-app-manager.service\";\n\n@Component(\n\t{\n\t\tselector:    'app-tabs',\n\t\ttemplateUrl: 'tabs.page.html',\n\t\tstyleUrls:   [\n\t\t\t'./styles/tabs.page.scss'\n\t\t]\n\t})\nexport class TabsPage {\n\tconstructor(public appService: NxAppManagerService) {\n\t}\n\n\t//constructor(public menu: MenuController) { }\n\n\tionViewWillEnter() {\n\t//\tthis.menu.enable(true);\n\t}\n\n\tionTabsDidChange(event) {\n\t\t// console.log('ionTabsDidChange', event);\n\t}\n}\n","<ion-tabs *ngIf=\"appService.isLoggedIn === true\">\n\t<ion-tab-bar slot=\"bottom\">\n\t\t<ion-tab-button tab=\"app/start\">\n\t\t\t<ion-icon name=\"calendar\"></ion-icon>\n\t\t\t<ion-label>Start</ion-label>\n\t\t\t<ion-badge>6</ion-badge>\n\t\t</ion-tab-button>\n\n\t\t<ion-tab-button tab=\"app/pro\">\n\t\t\t<ion-icon name=\"person-circle\"></ion-icon>\n\t\t\t<ion-label>Kp PRO</ion-label>\n\t\t\t<ion-badge color=\"primary\">11</ion-badge>\n\t\t</ion-tab-button>\n\n\t\t<ion-tab-button tab=\"appo/orders\">\n\t\t\t<ion-icon name=\"map\"></ion-icon>\n\t\t\t<ion-label>Bokningar</ion-label>\n\t\t</ion-tab-button>\n\n\t\t<ion-tab-button tab=\"about\">\n\t\t\t<ion-icon name=\"information-circle\"></ion-icon>\n\t\t\t<ion-label>Frbokningar</ion-label>\n\t\t</ion-tab-button>\n\t</ion-tab-bar>\n</ion-tabs>\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { NgModule }             from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { CmAuthChildGuard }     from \"../coldmind/core/cm-auth-guard\";\nimport { CmAuthGuard }          from \"../coldmind/core/cm-auth-guard\";\nimport { TabsPage }             from './tabs.page';\n\nconst routes: Routes = [\n\t{\n\t\tpath     : '',\n\t\tcomponent: TabsPage,\n\t\tchildren : [\n\t\t\t{\n\t\t\t\tpath      : '',\n\t\t\t\tredirectTo: 'categories',\n\t\t\t\tpathMatch : 'full'\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath            : 'app',\n\t\t\t\tcanActivateChild: [ new CmAuthChildGuard() ],\n\t\t\t\tchildren        : [\n\t\t\t\t\t{\n\t\t\t\t\t\tpath        : 'start',\n\t\t\t\t\t\tloadChildren: () => import('../pages/start/start.module').then(m => m.StartPageModule)\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tpath        : 'messages',\n\t\t\t\t\t\tloadChildren: () => import('../pages/messages/messages.module').then(m => m.MessagesPageModule)\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tpath        : 'mess',\n\t\t\t\t\t\tloadChildren: () => import('../notifications/notifications.module').then(m => m.NotificationsPageModule)\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t]\n\t}\n];\n\n@NgModule(\n\t{\n\t\timports  : [\n\t\t\tRouterModule.forChild(routes)\n\t\t],\n\t\texports  : [ RouterModule ],\n\t\tproviders: []\n\t})\nexport class TabsPageRoutingModule { }\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which00ds file can be found in `.angular-cli.json`.\nexport const environment = {\n\tproduction:     false,\n\tapiEndpoint: \"http://localhost:3000\",\n\twebSocketUrl: \"http://localhost:3001\",\n\tfirebase:       {\n\t\tapiKey:        'AIzaSyC5QK355uuknu0_ldVxFqqNqgp9oJi_eLc',\n\t\tauthDomain:    'ion4fullpwa.firebaseapp.com',\n\t\tdatabaseURL:   'https://ion4fullpwa.firebaseio.com',\n\t\tprojectId:     'ion4fullpwa',\n\t\tstorageBucket: 'ion4fullpwa.appspot.com'\n\t},\n\tappShellConfig: {\n\t\tdebug:        false,\n\t\tnetworkDelay: 500\n\t}\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode }         from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { AppModule }              from './app/app.module';\nimport { environment }            from './environments/environment';\n\nif (environment.production) {\n\tenableProdMode();\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\tplatformBrowserDynamic().bootstrapModule(AppModule)\n\t\t\t\t\t\t\t.catch(err => console.log(err));\n});\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { IDriverCar }         from \"../types/car.type\";\n\nexport class DriverCarOptions {\n\tpublic carId: string | any;\n\tpublic babySeats?: number; // baby_seats\n\tpublic childSeats?: number; // child_seats\n\tpublic boosterSeats?: number; // booster_seats\n\tpublic hasShield?: boolean; // has_shield\n\tpublic animalsInCage?: boolean; // animals_in_cage\n\tpublic animalsWhitoutCaghe?: boolean;\n\n\tpublic driverCarData: IDriverCar;\n\n\tfromObj(data: IDriverCar): DriverCarOptions {\n\t\tthis.carId               = data?.id;\n\t\tthis.babySeats           = Number.parseInt(data.baby_seats);\n\t\tthis.childSeats          = Number.parseInt(data.child_seats);\n\t\tthis.boosterSeats        = Number.parseInt(data.booster_seats);\n\t\tthis.hasShield           = Number.parseInt(data.has_shield) >= 1;\n\t\tthis.animalsInCage       = Number.parseInt(data.animals_in_cage) >= 1;\n\t\tthis.animalsWhitoutCaghe = Number.parseInt(data.animals_without_cage) >= 1;\n\n\t\treturn this;\n\t}\n\n\tconstructor() {\n\t}\n\n\tpublic compile(): string {\n\t\tlet values = new Array<string>();\n\t\tvalues.push(`car_id=${ this.carId }`);\n\t\tvalues.push(`baby_seats=${ this.babySeats }`);\n\t\tvalues.push(`child_seats=${ this.childSeats }`);\n\t\tvalues.push(`booster_seats=${ this.boosterSeats }`);\n\t\tvalues.push(`has_shield=${ this.hasShield }`);\n\t\tvalues.push(`animals_in_cage=${ this.animalsInCage }`);\n\t\tvalues.push(`animals_without_cage=${ this.animalsWhitoutCaghe }`);\n\n\t\treturn values.join(\"&\");\n\t}\n\n\tpublic toSloppyJson(data: any): string {\n\t\treturn JSON.stringify(this);\n\t}\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nexport enum DriverStatusType {\n\tUnset          = \"UNSET\",\n\tUnknown        = \"UNKNOWN\",\n\tAvailable      = \"AVAILABLE\",\n\tLoggedIn       = \"LOGGED IN\",\n\tBusy            = \"BUSY\",\n\tSoonAvailable  = \"SOON_AVAILABLE\",\n\tHasCustomer    = \"HAS_CUSTOMER\",\n\tNotLoggedIn    = \"NO_SESSION_SET\",\n\tNoSessionFound = \"NO_SESSION_FOUND_ERROR\",\n}\n\nexport class DriverStatus {\n\tprivate _prevStatus = DriverStatusType.Unset;\n\tprivate _status = DriverStatusType.Unset;\n\n\tpublic get prevStatus(): DriverStatusType {\n\t\treturn this._prevStatus;\n\t}\n\n\tpublic get status(): DriverStatusType {\n\t\treturn this._status;\n\t}\n\n\tpublic set status(newType: DriverStatusType) {\n\t\tif (newType === (DriverStatusType.Unset\n\t\t\t\t\t\t || DriverStatusType.NoSessionFound\n\t\t\t)) {\n\t\t\tthrow new Error(`Ststus \"${DriverStatusType[newType]}\" can not be manually set.`);\n\t\t}\n\n\n\t\tthis._prevStatus = this.status;\n\t\tthis._status = newType;\n\t}\n\n\tconstructor(statusType?: DriverStatusType) {\n\t\tif (statusType) {\n\t\t\tthis.status = statusType;\n\t\t}\n\t}\n\n\n\tpublic loggedIn(): boolean {\n\t\treturn this.status !== (DriverStatusType.NotLoggedIn || DriverStatusType.NoSessionFound || DriverStatusType.Unset);\n\t}\n\n\tpublic static parseFromStr(str: string): DriverStatus {\n\t\tlet aType : DriverStatusType = DriverStatusType[str];\n\t\treturn new DriverStatus(aType); //JsonConverter.toType<DriverStatusType>(str);\n\t}\n}\n\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nexport enum MsgType {\n\tPing                 = 222000,\n\tPong                 = 100001,\n\n\tUpdateDriverData     = -40,\n\tDebugBooking         = -30,\n\tShowDebug            = -20,\n\tError                = -10,\n\tConnect              = 0,\n\tDisconnect           = 1,\n\tDriverLogin          = 2,\n\tDriverLogOut         = 3,\n\tDriverGetInfo        = 4,\n\tDriverUpdate         = 5,\n\tGetDriverOrder       = 6,\n\tGetOrdersBySession   = 7,\n\tGetMessagesBySession = 8,\n\tAcceptOrder          = 9,\n\tDenyOrder            = 10,\n\tCompleteOrder        = 11,\n\tCustomerNoShow       = 12,\n\tCantCompleteOrder    = 13,\n\tGetCars              = 14,\n\tSetCurrentCar        = 15,\n\tNeedReauthentication = 16,\n\tLoggedOut            = 17,\n\tSetDriverStatus      = 18,\n\tSetDriverBusy        = 19,\n\tGetRawData           = 544\n}\n\nexport interface IBaseMessage {\n\ttype: number,\n}\n\nexport interface IMessage extends IBaseMessage {\n\tuuid?: string;\n\ttag?: string;\n\tdata?: any;\n\terrorMessage?: string;\n\ttimestamp?: number;\n}\n\nexport interface IWebMessage extends IMessage {\n\twebCookie?: string;\n}\n\nexport interface IUserMessage extends IBaseMessage, IMessage {\n\tuid?: number;\n}\n\nexport class Message implements IBaseMessage {\n\tpublic type: number;\n\n\tpublic static ofType(value: number, msg: IMessage): boolean {\n\t\treturn value === ( msg.type ? msg.type : \"\" );\n\t}\n}\n\n//////////////////////////////////////////////////\n//\n// Api Messages\n//\n\nexport enum ApiAttributeType {\n\tError       = 'error',\n\tMessage     = 'information',\n\tInformation = 'information'\n}\n\nexport interface IApiEntity {\n\tname?: string\n}\n\nexport interface IApiAttribute extends IApiEntity {\n\ttype: ApiAttributeType | string,\n\tcode?: number,\n\ttext?: string\n}\n\nexport interface IApiResponse {\n\tsuccess: boolean,\n\terror?: Error | any,\n\theaders?: any,\n\tdata?: any | IApiAttribute[]\n}\n","/**\n * Copyright (c) 2021 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nexport enum DataTypeInfo {\n\tstring,\n\tobject,\n\tundefined,\n\tboolean,\n\tfunction,\n\tnumber,\n\tbigint,\n\tsymbol\n}\n\nexport class DataUtils {\n\tpublic static getDataType(obj: any): DataTypeInfo {\n\t\tlet result = DataTypeInfo.undefined;\n\t\tlet typeName = typeof obj;\n\n\t\tswitch (typeName) {\n\t\t\tcase \"string\":\n\t\t\t\tresult = DataTypeInfo.string;\n\t\t\t\tbreak;\n\n\t\t\tcase \"object\":\n\t\t\t\tresult = DataTypeInfo.object;\n\t\t\t\tbreak;\n\n\t\t\tcase \"undefined\":\n\t\t\t\tresult = DataTypeInfo.undefined;\n\t\t\t\tbreak;\n\n\t\t\tcase \"boolean\":\n\t\t\t\tresult = DataTypeInfo.boolean;\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tresult = DataTypeInfo.function;\n\t\t\t\tbreak;\n\n\t\t\tcase \"number\":\n\t\t\t\tresult = DataTypeInfo.number;\n\t\t\t\tbreak;\n\n\t\t\tcase \"bigint\":\n\t\t\t\tresult = DataTypeInfo.bigint;\n\t\t\t\tbreak;\n\n\t\t\tcase \"symbol\":\n\t\t\t\tresult = DataTypeInfo.symbol;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tpublic static arrayIsEmpty(value: any) {\n\t\tlet result = true;\n\t\tlet arrVal: Array<any> = value as Array<any>;\n\n\t\t if (!(Array.isArray(arrVal) && !arrVal[0])) {\n\t\t\tresult = false;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tpublic static ensureArray(value: any) {\n\t\tif (!Array.isArray(value)) {\n\t\t\tvalue = [];\n\t\t}\n\n\t\treturn value;\n\t}\n\n\t/**\n\t * Determine if provided object is of type string\n\t * @param value\n\t * @returns {boolean}\n\t */\n\tpublic static isString(value: any): boolean {\n\t\treturn DataUtils.getDataType(value) === DataTypeInfo.string;\n\t}\n\n\t/**\n\t * Determine if provided object is of type string or number\n\t * @param value\n\t * @returns {boolean}\n\t */\n\tpublic static isStrOrNum(value: any): boolean {\n\t\tconst dataType = DataUtils.getDataType(value);\n\t\tlet strValue: string = \"\";\n\n\t\treturn (dataType === DataTypeInfo.string ||\n\t\t\tdataType === DataTypeInfo.number ||\n\t\t\tdataType === DataTypeInfo.bigint);\n\t}\n}\n\n\n\n\n\n\n\n\n\n\n\n\n","/**\n * Copyright (c) 2018 Patrik Forsberg <patrik.forsberg@coldmind.com> - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential.\n */\n\nimport { DataUtils }    from \"./data.utils\";\n\nexport class VarUtils {\n\t/**\n\t * Returns a string of a given length filled with given char value\n\t * @param {string} charValue - value to fill\n\t * @param {number} length - number of repeats\n\t * @returns {string}\n\t */\n\tpublic static fillChar(charValue: string, length: number): string {\n\t\tlet result: string = \"\";\n\t\tfor (let i = 0; i < length; i++) { result += charValue; }\n\t\treturn result;\n\t}\n\n\tpublic static isString(value: any): boolean {\n\t\treturn value !== null && ( typeof value === \"string\" ) && value.length > 0;\n\t}\n\n\n\tpublic static typesEqual<T>(type1: any, type2: T): boolean {\n\t\treturn type1 !== null && type2 && ( typeof type1 === typeof type2 );\n\t}\n\n\t/**\n\t * Ensure a non null value of certain trype\n\t * @param val\n\t * @param {T} defValue\n\t * @returns {T}\n\t */\n\tpublic static ensure<T>(val: any, defValue?: T): T {\n\t\tval = !(val as T) && defValue ? defValue : val;\n\t\tlet val2: T = val;\n \t\treturn VarUtils.typesEqual<T>(val, defValue) ? val : JSON.parse(\"\");\n\t}\n\n\tpublic static isEmpty(str: string): boolean {\n\t\treturn (str == null) || (VarUtils.typesEqual<string>(str, \"\") && str.length < 1);\n\t}\n\n\t/*\n\tpublic static isString(value: any): boolean {\n\t\treturn (typeof value === \"string\");\n\t}\n\t*/\n\n\t\t/**\n\t * Deterine if a string is of numeric value\n\t * @param {string} value\n\t * @returns {boolean}\n\t */\n\tpublic static isNumeric(value: any): boolean {\n\t\tconst dataType = DataUtils.getDataType(value);\n\t\tlet strValue: string = \"\";\n\n\t\tif (value) {\n\t\t\tstrValue = JSON.stringify(value);\n\t\t}\n\n\t\treturn (!isNaN(Number(strValue)));\n\t}\n\n\t/**\n\t * Wrapper metod for string replace\n\t * @param {string} source\n\t * @param {string} find\n\t * @param replaceWith\n\t * @returns {string}\n\t */\n\tpublic static replaceStr(source: string, find: string, replaceWith: any): string {\n\t\treturn source.replace(find, String(replaceWith));\n\t}\n\n\tpublic static replaceEx = function (originalString: string, oldValue: string, newValue: string, ignoreCase: boolean = false) {\n\t\t//\n\t\t// if invalid vendorBaskets, return the original string\n\t\t//\n\t\tif ((originalString == null) || (oldValue == null) || (newValue == null) || (oldValue.length == 0))\n\t\t\treturn (originalString);\n\t\t//\n\t\t// replace oldValue with newValue\n\t\t//\n\t\tlet Flags: string = ( ignoreCase ) ? \"gi\" : \"g\",\n\t\t\tpattern = oldValue.replace(/[-\\[\\]\\/{}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\"),\n\t\t\tstr = originalString.replace(new RegExp(pattern, Flags), newValue);\n\n\t\treturn str;\n\t}\n}\n","var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t5593,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-action-sheet_entry_js\"\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t3225,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-alert_entry_js\"\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t4812,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-app_8_entry_js\"\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t6655,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-avatar_3_entry_js\"\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t4856,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-back-button_entry_js\"\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t3059,\n\t\t\"node_modules_ionic_core_dist_esm_ion-backdrop_entry_js\"\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t8308,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-button_2_entry_js\"\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t4690,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-card_5_entry_js\"\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t4090,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-checkbox_entry_js\"\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t6214,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-chip_entry_js\"\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t9447,\n\t\t\"node_modules_ionic_core_dist_esm_ion-col_3_entry_js\"\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t9689,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-datetime_3_entry_js\"\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t8840,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-fab_3_entry_js\"\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t749,\n\t\t\"node_modules_ionic_core_dist_esm_ion-img_entry_js\"\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t9667,\n\t\t\"node_modules_ionic_core_dist_esm_ion-infinite-scroll_2_entry_js\"\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t3288,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-input_entry_js\"\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t5473,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-item-option_3_entry_js\"\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t3634,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-item_8_entry_js\"\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t2855,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-loading_entry_js\"\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t495,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-menu_3_entry_js\"\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t8737,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-modal_entry_js\"\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t9632,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-nav_2_entry_js\"\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t8050,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-popover_entry_js\"\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t8994,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-progress-bar_entry_js\"\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t3592,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-radio_2_entry_js\"\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t5454,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-range_entry_js\"\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t290,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-refresher_2_entry_js\"\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t2666,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-reorder_2_entry_js\"\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t4816,\n\t\t\"node_modules_ionic_core_dist_esm_ion-ripple-effect_entry_js\"\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t5534,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-route_4_entry_js\"\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t4902,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-searchbar_entry_js\"\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t1938,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-segment_2_entry_js\"\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t8179,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-select_3_entry_js\"\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t668,\n\t\t\"node_modules_ionic_core_dist_esm_ion-slide_2_entry_js\"\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t1624,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-spinner_entry_js\"\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t9989,\n\t\t\"node_modules_ionic_core_dist_esm_ion-split-pane_entry_js\"\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t8902,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-tab-bar_2_entry_js\"\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t199,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-tab_2_entry_js\"\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t8395,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-text_entry_js\"\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t6357,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-textarea_entry_js\"\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t8268,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-toast_entry_js\"\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t5269,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-toggle_entry_js\"\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t2875,\n\t\t\"node_modules_ionic_core_dist_esm_ion-virtual-scroll_entry_js\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 863;\nmodule.exports = webpackAsyncContext;"],"names":[],"sourceRoot":"webpack:///"}